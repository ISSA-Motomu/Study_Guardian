(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const pe={},Rt=[],et=()=>{},qo=()=>!1,Us=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),On=e=>e.startsWith("onUpdate:"),ke=Object.assign,Fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},yi=Object.prototype.hasOwnProperty,ue=(e,t)=>yi.call(e,t),Q=Array.isArray,Bt=e=>Vs(e)==="[object Map]",Jo=e=>Vs(e)==="[object Set]",se=e=>typeof e=="function",ye=e=>typeof e=="string",dt=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Zo=e=>(me(e)||se(e))&&se(e.then)&&se(e.catch),Qo=Object.prototype.toString,Vs=e=>Qo.call(e),_i=e=>Vs(e).slice(8,-1),er=e=>Vs(e)==="[object Object]",Ks=e=>ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,es=Dn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},wi=/-\w/g,_t=Ws(e=>e.replace(wi,t=>t.slice(1).toUpperCase())),ki=/\B([A-Z])/g,Pt=Ws(e=>e.replace(ki,"-$1").toLowerCase()),tr=Ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),rn=Ws(e=>e?`on${tr(e)}`:""),yt=(e,t)=>!Object.is(e,t),Ms=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},sr=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Ln=e=>{const t=parseFloat(e);return isNaN(t)?e:t},$i=e=>{const t=ye(e)?Number(e):NaN;return isNaN(t)?e:t};let oo;const zs=()=>oo||(oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ce(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=ye(n)?Mi(n):ce(n);if(o)for(const r in o)t[r]=o[r]}return t}else if(ye(e)||me(e))return e}const Si=/;(?![^(]*\))/g,Ci=/:([^]+)/,Ti=/\/\*[^]*?\*\//g;function Mi(e){const t={};return e.replace(Ti,"").split(Si).forEach(s=>{if(s){const n=s.split(Ci);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function oe(e){let t="";if(ye(e))t=e;else if(Q(e))for(let s=0;s<e.length;s++){const n=oe(e[s]);n&&(t+=n+" ")}else if(me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ji="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ii=Dn(ji);function nr(e){return!!e||e===""}const or=e=>!!(e&&e.__v_isRef===!0),M=e=>ye(e)?e:e==null?"":Q(e)||me(e)&&(e.toString===Qo||!se(e.toString))?or(e)?M(e.value):JSON.stringify(e,rr,2):String(e),rr=(e,t)=>or(t)?rr(e,t.value):Bt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],r)=>(s[ln(n,r)+" =>"]=o,s),{})}:Jo(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>ln(s))}:dt(t)?ln(t):me(t)&&!Q(t)&&!er(t)?String(t):t,ln=(e,t="")=>{var s;return dt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class ir{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Se;try{return Se=this,t()}finally{Se=s}}}on(){++this._on===1&&(this.prevScope=Se,Se=this)}off(){this._on>0&&--this._on===0&&(Se=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function lr(e){return new ir(e)}function ar(){return Se}function Ai(e,t=!1){Se&&Se.cleanups.push(e)}let ge;const an=new WeakSet;class cr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Se&&Se.active&&Se.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,an.has(this)&&(an.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ro(this),dr(this);const t=ge,s=Ke;ge=this,Ke=!0;try{return this.fn()}finally{pr(this),ge=t,Ke=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Bn(t);this.deps=this.depsTail=void 0,ro(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?an.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yn(this)&&this.run()}get dirty(){return yn(this)}}let ur=0,ts,ss;function fr(e,t=!1){if(e.flags|=8,t){e.next=ss,ss=e;return}e.next=ts,ts=e}function Nn(){ur++}function Rn(){if(--ur>0)return;if(ss){let t=ss;for(ss=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ts;){let t=ts;for(ts=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function dr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function pr(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),Bn(n),Ei(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function yn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(hr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function hr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===us)||(e.globalVersion=us,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!yn(e))))return;e.flags|=2;const t=e.dep,s=ge,n=Ke;ge=e,Ke=!0;try{dr(e);const o=e.fn(e._value);(t.version===0||yt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{ge=s,Ke=n,pr(e),e.flags&=-3}}function Bn(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Bn(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ei(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ke=!0;const gr=[];function ct(){gr.push(Ke),Ke=!1}function ut(){const e=gr.pop();Ke=e===void 0?!0:e}function ro(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ge;ge=void 0;try{t()}finally{ge=s}}}let us=0;class Pi{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ge||!Ke||ge===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ge)s=this.activeLink=new Pi(ge,this),ge.deps?(s.prevDep=ge.depsTail,ge.depsTail.nextDep=s,ge.depsTail=s):ge.deps=ge.depsTail=s,mr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ge.depsTail,s.nextDep=void 0,ge.depsTail.nextDep=s,ge.depsTail=s,ge.deps===s&&(ge.deps=n)}return s}trigger(t){this.version++,us++,this.notify(t)}notify(t){Nn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Rn()}}}function mr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)mr(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ps=new WeakMap,It=Symbol(""),_n=Symbol(""),fs=Symbol("");function Ce(e,t,s){if(Ke&&ge){let n=Ps.get(e);n||Ps.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new Hn),o.map=n,o.key=s),o.track()}}function it(e,t,s,n,o,r){const i=Ps.get(e);if(!i){us++;return}const a=c=>{c&&c.trigger()};if(Nn(),t==="clear")i.forEach(a);else{const c=Q(e),f=c&&Ks(s);if(c&&s==="length"){const u=Number(n);i.forEach((p,x)=>{(x==="length"||x===fs||!dt(x)&&x>=u)&&a(p)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),f&&a(i.get(fs)),t){case"add":c?f&&a(i.get("length")):(a(i.get(It)),Bt(e)&&a(i.get(_n)));break;case"delete":c||(a(i.get(It)),Bt(e)&&a(i.get(_n)));break;case"set":Bt(e)&&a(i.get(It));break}}Rn()}function Di(e,t){const s=Ps.get(e);return s&&s.get(t)}function Ot(e){const t=ae(e);return t===e?t:(Ce(t,"iterate",fs),Ne(e)?t:t.map(We))}function Ys(e){return Ce(e=ae(e),"iterate",fs),e}function bt(e,t){return ft(e)?Vt(at(e)?We(t):t):We(t)}const Oi={__proto__:null,[Symbol.iterator](){return cn(this,Symbol.iterator,e=>bt(this,e))},concat(...e){return Ot(this).concat(...e.map(t=>Q(t)?Ot(t):t))},entries(){return cn(this,"entries",e=>(e[1]=bt(this,e[1]),e))},every(e,t){return st(this,"every",e,t,void 0,arguments)},filter(e,t){return st(this,"filter",e,t,s=>s.map(n=>bt(this,n)),arguments)},find(e,t){return st(this,"find",e,t,s=>bt(this,s),arguments)},findIndex(e,t){return st(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return st(this,"findLast",e,t,s=>bt(this,s),arguments)},findLastIndex(e,t){return st(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return st(this,"forEach",e,t,void 0,arguments)},includes(...e){return un(this,"includes",e)},indexOf(...e){return un(this,"indexOf",e)},join(e){return Ot(this).join(e)},lastIndexOf(...e){return un(this,"lastIndexOf",e)},map(e,t){return st(this,"map",e,t,void 0,arguments)},pop(){return qt(this,"pop")},push(...e){return qt(this,"push",e)},reduce(e,...t){return io(this,"reduce",e,t)},reduceRight(e,...t){return io(this,"reduceRight",e,t)},shift(){return qt(this,"shift")},some(e,t){return st(this,"some",e,t,void 0,arguments)},splice(...e){return qt(this,"splice",e)},toReversed(){return Ot(this).toReversed()},toSorted(e){return Ot(this).toSorted(e)},toSpliced(...e){return Ot(this).toSpliced(...e)},unshift(...e){return qt(this,"unshift",e)},values(){return cn(this,"values",e=>bt(this,e))}};function cn(e,t,s){const n=Ys(e),o=n[t]();return n!==e&&!Ne(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=s(r.value)),r}),o}const Fi=Array.prototype;function st(e,t,s,n,o,r){const i=Ys(e),a=i!==e&&!Ne(e),c=i[t];if(c!==Fi[t]){const p=c.apply(e,r);return a?We(p):p}let f=s;i!==e&&(a?f=function(p,x){return s.call(this,bt(e,p),x,e)}:s.length>2&&(f=function(p,x){return s.call(this,p,x,e)}));const u=c.call(i,f,n);return a&&o?o(u):u}function io(e,t,s,n){const o=Ys(e);let r=s;return o!==e&&(Ne(e)?s.length>3&&(r=function(i,a,c){return s.call(this,i,a,c,e)}):r=function(i,a,c){return s.call(this,i,bt(e,a),c,e)}),o[t](r,...n)}function un(e,t,s){const n=ae(e);Ce(n,"iterate",fs);const o=n[t](...s);return(o===-1||o===!1)&&Gs(s[0])?(s[0]=ae(s[0]),n[t](...s)):o}function qt(e,t,s=[]){ct(),Nn();const n=ae(e)[t].apply(e,s);return Rn(),ut(),n}const Li=Dn("__proto__,__v_isRef,__isVue"),br=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dt));function Ni(e){dt(e)||(e=String(e));const t=ae(this);return Ce(t,"has",e),t.hasOwnProperty(e)}class vr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(o?r?Xi:wr:r?_r:yr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=Q(t);if(!o){let c;if(i&&(c=Oi[s]))return c;if(s==="hasOwnProperty")return Ni}const a=Reflect.get(t,s,xe(t)?t:n);if((dt(s)?br.has(s):Li(s))||(o||Ce(t,"get",s),r))return a;if(xe(a)){const c=i&&Ks(s)?a:a.value;return o&&me(c)?kn(c):c}return me(a)?o?kn(a):Xs(a):a}}class xr extends vr{constructor(t=!1){super(!1,t)}set(t,s,n,o){let r=t[s];const i=Q(t)&&Ks(s);if(!this._isShallow){const f=ft(r);if(!Ne(n)&&!ft(n)&&(r=ae(r),n=ae(n)),!i&&xe(r)&&!xe(n))return f||(r.value=n),!0}const a=i?Number(s)<t.length:ue(t,s),c=Reflect.set(t,s,n,xe(t)?t:o);return t===ae(o)&&(a?yt(n,r)&&it(t,"set",s,n):it(t,"add",s,n)),c}deleteProperty(t,s){const n=ue(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&it(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!dt(s)||!br.has(s))&&Ce(t,"has",s),n}ownKeys(t){return Ce(t,"iterate",Q(t)?"length":It),Reflect.ownKeys(t)}}class Ri extends vr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Bi=new xr,Hi=new Ri,Ui=new xr(!0);const wn=e=>e,ws=e=>Reflect.getPrototypeOf(e);function Vi(e,t,s){return function(...n){const o=this.__v_raw,r=ae(o),i=Bt(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,f=o[e](...n),u=s?wn:t?Vt:We;return!t&&Ce(r,"iterate",c?_n:It),ke(Object.create(f),{next(){const{value:p,done:x}=f.next();return x?{value:p,done:x}:{value:a?[u(p[0]),u(p[1])]:u(p),done:x}}})}}function ks(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ki(e,t){const s={get(o){const r=this.__v_raw,i=ae(r),a=ae(o);e||(yt(o,a)&&Ce(i,"get",o),Ce(i,"get",a));const{has:c}=ws(i),f=t?wn:e?Vt:We;if(c.call(i,o))return f(r.get(o));if(c.call(i,a))return f(r.get(a));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Ce(ae(o),"iterate",It),o.size},has(o){const r=this.__v_raw,i=ae(r),a=ae(o);return e||(yt(o,a)&&Ce(i,"has",o),Ce(i,"has",a)),o===a?r.has(o):r.has(o)||r.has(a)},forEach(o,r){const i=this,a=i.__v_raw,c=ae(a),f=t?wn:e?Vt:We;return!e&&Ce(c,"iterate",It),a.forEach((u,p)=>o.call(r,f(u),f(p),i))}};return ke(s,e?{add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear")}:{add(o){!t&&!Ne(o)&&!ft(o)&&(o=ae(o));const r=ae(this);return ws(r).has.call(r,o)||(r.add(o),it(r,"add",o,o)),this},set(o,r){!t&&!Ne(r)&&!ft(r)&&(r=ae(r));const i=ae(this),{has:a,get:c}=ws(i);let f=a.call(i,o);f||(o=ae(o),f=a.call(i,o));const u=c.call(i,o);return i.set(o,r),f?yt(r,u)&&it(i,"set",o,r):it(i,"add",o,r),this},delete(o){const r=ae(this),{has:i,get:a}=ws(r);let c=i.call(r,o);c||(o=ae(o),c=i.call(r,o)),a&&a.call(r,o);const f=r.delete(o);return c&&it(r,"delete",o,void 0),f},clear(){const o=ae(this),r=o.size!==0,i=o.clear();return r&&it(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Vi(o,e,t)}),s}function Un(e,t){const s=Ki(e,t);return(n,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(ue(s,o)&&o in n?s:n,o,r)}const Wi={get:Un(!1,!1)},zi={get:Un(!1,!0)},Yi={get:Un(!0,!1)};const yr=new WeakMap,_r=new WeakMap,wr=new WeakMap,Xi=new WeakMap;function Gi(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qi(e){return e.__v_skip||!Object.isExtensible(e)?0:Gi(_i(e))}function Xs(e){return ft(e)?e:Vn(e,!1,Bi,Wi,yr)}function Ji(e){return Vn(e,!1,Ui,zi,_r)}function kn(e){return Vn(e,!0,Hi,Yi,wr)}function Vn(e,t,s,n,o){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=qi(e);if(r===0)return e;const i=o.get(e);if(i)return i;const a=new Proxy(e,r===2?n:s);return o.set(e,a),a}function at(e){return ft(e)?at(e.__v_raw):!!(e&&e.__v_isReactive)}function ft(e){return!!(e&&e.__v_isReadonly)}function Ne(e){return!!(e&&e.__v_isShallow)}function Gs(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function Kn(e){return!ue(e,"__v_skip")&&Object.isExtensible(e)&&sr(e,"__v_skip",!0),e}const We=e=>me(e)?Xs(e):e,Vt=e=>me(e)?kn(e):e;function xe(e){return e?e.__v_isRef===!0:!1}function V(e){return Zi(e,!1)}function Zi(e,t){return xe(e)?e:new Qi(e,t)}class Qi{constructor(t,s){this.dep=new Hn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ae(t),this._value=s?t:We(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Ne(t)||ft(t);t=n?t:ae(t),yt(t,s)&&(this._rawValue=t,this._value=n?t:We(t),this.dep.trigger())}}function X(e){return xe(e)?e.value:e}const el={get:(e,t,s)=>t==="__v_raw"?e:X(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return xe(o)&&!xe(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function kr(e){return at(e)?e:new Proxy(e,el)}function tl(e){const t=Q(e)?new Array(e.length):{};for(const s in e)t[s]=nl(e,s);return t}class sl{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=ae(t);let o=!0,r=t;if(!Q(t)||!Ks(String(s)))do o=!Gs(r)||Ne(r);while(o&&(r=r.__v_raw));this._shallow=o}get value(){let t=this._object[this._key];return this._shallow&&(t=X(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&xe(this._raw[this._key])){const s=this._object[this._key];if(xe(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return Di(this._raw,this._key)}}function nl(e,t,s){return new sl(e,t,s)}class ol{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Hn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=us-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return fr(this,!0),!0}get value(){const t=this.dep.track();return hr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function rl(e,t,s=!1){let n,o;return se(e)?n=e:(n=e.get,o=e.set),new ol(n,o,s)}const $s={},Ds=new WeakMap;let Mt;function il(e,t=!1,s=Mt){if(s){let n=Ds.get(s);n||Ds.set(s,n=[]),n.push(e)}}function ll(e,t,s=pe){const{immediate:n,deep:o,once:r,scheduler:i,augmentJob:a,call:c}=s,f=R=>o?R:Ne(R)||o===!1||o===0?lt(R,1):lt(R);let u,p,x,v,w=!1,k=!1;if(xe(e)?(p=()=>e.value,w=Ne(e)):at(e)?(p=()=>f(e),w=!0):Q(e)?(k=!0,w=e.some(R=>at(R)||Ne(R)),p=()=>e.map(R=>{if(xe(R))return R.value;if(at(R))return f(R);if(se(R))return c?c(R,2):R()})):se(e)?t?p=c?()=>c(e,2):e:p=()=>{if(x){ct();try{x()}finally{ut()}}const R=Mt;Mt=u;try{return c?c(e,3,[v]):e(v)}finally{Mt=R}}:p=et,t&&o){const R=p,y=o===!0?1/0:o;p=()=>lt(R(),y)}const N=ar(),B=()=>{u.stop(),N&&N.active&&Fn(N.effects,u)};if(r&&t){const R=t;t=(...y)=>{R(...y),B()}}let z=k?new Array(e.length).fill($s):$s;const Y=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(t){const y=u.run();if(o||w||(k?y.some((b,$)=>yt(b,z[$])):yt(y,z))){x&&x();const b=Mt;Mt=u;try{const $=[y,z===$s?void 0:k&&z[0]===$s?[]:z,v];z=y,c?c(t,3,$):t(...$)}finally{Mt=b}}}else u.run()};return a&&a(Y),u=new cr(p),u.scheduler=i?()=>i(Y,!1):Y,v=R=>il(R,!1,u),x=u.onStop=()=>{const R=Ds.get(u);if(R){if(c)c(R,4);else for(const y of R)y();Ds.delete(u)}},t?n?Y(!0):z=u.run():i?i(Y.bind(null,!0),!0):u.run(),B.pause=u.pause.bind(u),B.resume=u.resume.bind(u),B.stop=B,B}function lt(e,t=1/0,s){if(t<=0||!me(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,xe(e))lt(e.value,t,s);else if(Q(e))for(let n=0;n<e.length;n++)lt(e[n],t,s);else if(Jo(e)||Bt(e))e.forEach(n=>{lt(n,t,s)});else if(er(e)){for(const n in e)lt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&lt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vs(e,t,s,n){try{return n?e(...n):e()}catch(o){qs(o,t,s)}}function ze(e,t,s,n){if(se(e)){const o=vs(e,t,s,n);return o&&Zo(o)&&o.catch(r=>{qs(r,t,s)}),o}if(Q(e)){const o=[];for(let r=0;r<e.length;r++)o.push(ze(e[r],t,s,n));return o}}function qs(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||pe;if(t){let a=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,c,f)===!1)return}a=a.parent}if(r){ct(),vs(r,null,10,[e,c,f]),ut();return}}al(e,s,o,n,i)}function al(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const Ee=[];let Ze=-1;const Ht=[];let vt=null,Lt=0;const $r=Promise.resolve();let Os=null;function Sr(e){const t=Os||$r;return e?t.then(this?e.bind(this):e):t}function cl(e){let t=Ze+1,s=Ee.length;for(;t<s;){const n=t+s>>>1,o=Ee[n],r=ds(o);r<e||r===e&&o.flags&2?t=n+1:s=n}return t}function Wn(e){if(!(e.flags&1)){const t=ds(e),s=Ee[Ee.length-1];!s||!(e.flags&2)&&t>=ds(s)?Ee.push(e):Ee.splice(cl(t),0,e),e.flags|=1,Cr()}}function Cr(){Os||(Os=$r.then(Mr))}function ul(e){Q(e)?Ht.push(...e):vt&&e.id===-1?vt.splice(Lt+1,0,e):e.flags&1||(Ht.push(e),e.flags|=1),Cr()}function lo(e,t,s=Ze+1){for(;s<Ee.length;s++){const n=Ee[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ee.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Tr(e){if(Ht.length){const t=[...new Set(Ht)].sort((s,n)=>ds(s)-ds(n));if(Ht.length=0,vt){vt.push(...t);return}for(vt=t,Lt=0;Lt<vt.length;Lt++){const s=vt[Lt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}vt=null,Lt=0}}const ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Mr(e){try{for(Ze=0;Ze<Ee.length;Ze++){const t=Ee[Ze];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),vs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ze<Ee.length;Ze++){const t=Ee[Ze];t&&(t.flags&=-2)}Ze=-1,Ee.length=0,Tr(),Os=null,(Ee.length||Ht.length)&&Mr()}}let je=null,jr=null;function Fs(e){const t=je;return je=e,jr=e&&e.type.__scopeId||null,t}function Te(e,t=je,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&Rs(-1);const r=Fs(t);let i;try{i=e(...o)}finally{Fs(r),n._d&&Rs(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Ir(e,t){if(je===null)return e;const s=sn(je),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,a,c=pe]=t[o];r&&(se(r)&&(r={mounted:r,updated:r}),r.deep&&lt(i),n.push({dir:r,instance:s,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function $t(e,t,s,n){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let c=a.dir[n];c&&(ct(),ze(c,s,8,[e.el,a,e,t]),ut())}}function fl(e,t){if(Pe){let s=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===s&&(s=Pe.provides=Object.create(n)),s[e]=t}}function ns(e,t,s=!1){const n=Jn();if(n||Et){let o=Et?Et._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&se(t)?t.call(n&&n.proxy):t}}function dl(){return!!(Jn()||Et)}const pl=Symbol.for("v-scx"),hl=()=>ns(pl);function At(e,t,s){return Ar(e,t,s)}function Ar(e,t,s=pe){const{immediate:n,deep:o,flush:r,once:i}=s,a=ke({},s),c=t&&n||!t&&r!=="post";let f;if(ms){if(r==="sync"){const v=hl();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=et,v.resume=et,v.pause=et,v}}const u=Pe;a.call=(v,w,k)=>ze(v,u,w,k);let p=!1;r==="post"?a.scheduler=v=>{Ae(v,u&&u.suspense)}:r!=="sync"&&(p=!0,a.scheduler=(v,w)=>{w?v():Wn(v)}),a.augmentJob=v=>{t&&(v.flags|=4),p&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const x=ll(e,t,a);return ms&&(f?f.push(x):c&&x()),x}function gl(e,t,s){const n=this.proxy,o=ye(e)?e.includes(".")?Er(n,e):()=>n[e]:e.bind(n,n);let r;se(t)?r=t:(r=t.handler,s=t);const i=xs(this),a=Ar(o,r.bind(n),s);return i(),a}function Er(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const Pr=Symbol("_vte"),Dr=e=>e.__isTeleport,os=e=>e&&(e.disabled||e.disabled===""),ao=e=>e&&(e.defer||e.defer===""),co=e=>typeof SVGElement<"u"&&e instanceof SVGElement,uo=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,$n=(e,t)=>{const s=e&&e.to;return ye(s)?t?t(s):null:s},Or={name:"Teleport",__isTeleport:!0,process(e,t,s,n,o,r,i,a,c,f){const{mc:u,pc:p,pbc:x,o:{insert:v,querySelector:w,createText:k,createComment:N}}=f,B=os(t.props);let{shapeFlag:z,children:Y,dynamicChildren:R}=t;if(e==null){const y=t.el=k(""),b=t.anchor=k("");v(y,s,n),v(b,s,n);const $=(m,D)=>{z&16&&u(Y,m,D,o,r,i,a,c)},_=()=>{const m=t.target=$n(t.props,w),D=Fr(m,t,k,v);m&&(i!=="svg"&&co(m)?i="svg":i!=="mathml"&&uo(m)&&(i="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(m),B||($(m,D),js(t,!1)))};B&&($(s,b),js(t,!0)),ao(t.props)?(t.el.__isMounted=!1,Ae(()=>{_(),delete t.el.__isMounted},r)):_()}else{if(ao(t.props)&&e.el.__isMounted===!1){Ae(()=>{Or.process(e,t,s,n,o,r,i,a,c,f)},r);return}t.el=e.el,t.targetStart=e.targetStart;const y=t.anchor=e.anchor,b=t.target=e.target,$=t.targetAnchor=e.targetAnchor,_=os(e.props),m=_?s:b,D=_?y:$;if(i==="svg"||co(b)?i="svg":(i==="mathml"||uo(b))&&(i="mathml"),R?(x(e.dynamicChildren,R,m,o,r,i,a),Gn(e,t,!0)):c||p(e,t,m,D,o,r,i,a,!1),B)_?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ss(t,s,y,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const I=t.target=$n(t.props,w);I&&Ss(t,I,null,f,0)}else _&&Ss(t,b,$,f,1);js(t,B)}},remove(e,t,s,{um:n,o:{remove:o}},r){const{shapeFlag:i,children:a,anchor:c,targetStart:f,targetAnchor:u,target:p,props:x}=e;if(p&&(o(f),o(u)),r&&o(c),i&16){const v=r||!os(x);for(let w=0;w<a.length;w++){const k=a[w];n(k,t,s,v,!!k.dynamicChildren)}}},move:Ss,hydrate:ml};function Ss(e,t,s,{o:{insert:n},m:o},r=2){r===0&&n(e.targetAnchor,t,s);const{el:i,anchor:a,shapeFlag:c,children:f,props:u}=e,p=r===2;if(p&&n(i,t,s),(!p||os(u))&&c&16)for(let x=0;x<f.length;x++)o(f[x],t,s,2);p&&n(a,t,s)}function ml(e,t,s,n,o,r,{o:{nextSibling:i,parentNode:a,querySelector:c,insert:f,createText:u}},p){function x(k,N,B,z){N.anchor=p(i(k),N,a(k),s,n,o,r),N.targetStart=B,N.targetAnchor=z}const v=t.target=$n(t.props,c),w=os(t.props);if(v){const k=v._lpa||v.firstChild;if(t.shapeFlag&16)if(w)x(e,t,k,k&&i(k));else{t.anchor=i(e);let N=k;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,v._lpa=t.targetAnchor&&i(t.targetAnchor);break}}N=i(N)}t.targetAnchor||Fr(v,t,u,f),p(k&&i(k),t,v,s,n,o,r)}js(t,w)}else w&&t.shapeFlag&16&&x(e,t,e,i(e));return t.anchor&&i(t.anchor)}const Js=Or;function js(e,t){const s=e.ctx;if(s&&s.ut){let n,o;for(t?(n=e.el,o=e.anchor):(n=e.targetStart,o=e.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function Fr(e,t,s,n){const o=t.targetStart=s(""),r=t.targetAnchor=s("");return o[Pr]=r,e&&(n(o,e),n(r,e)),r}const rt=Symbol("_leaveCb"),Cs=Symbol("_enterCb");function bl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tt(()=>{e.isMounted=!0}),Kr(()=>{e.isUnmounting=!0}),e}const Be=[Function,Array],Lr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Be,onEnter:Be,onAfterEnter:Be,onEnterCancelled:Be,onBeforeLeave:Be,onLeave:Be,onAfterLeave:Be,onLeaveCancelled:Be,onBeforeAppear:Be,onAppear:Be,onAfterAppear:Be,onAppearCancelled:Be},Nr=e=>{const t=e.subTree;return t.component?Nr(t.component):t},vl={name:"BaseTransition",props:Lr,setup(e,{slots:t}){const s=Jn(),n=bl();return()=>{const o=t.default&&Hr(t.default(),!0);if(!o||!o.length)return;const r=Rr(o),i=ae(e),{mode:a}=i;if(n.isLeaving)return fn(r);const c=fo(r);if(!c)return fn(r);let f=Sn(c,i,n,s,p=>f=p);c.type!==Me&&ps(c,f);let u=s.subTree&&fo(s.subTree);if(u&&u.type!==Me&&!jt(u,c)&&Nr(s).type!==Me){let p=Sn(u,i,n,s);if(ps(u,p),a==="out-in"&&c.type!==Me)return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete p.afterLeave,u=void 0},fn(r);a==="in-out"&&c.type!==Me?p.delayLeave=(x,v,w)=>{const k=Br(n,u);k[String(u.key)]=u,x[rt]=()=>{v(),x[rt]=void 0,delete f.delayedLeave,u=void 0},f.delayedLeave=()=>{w(),delete f.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function Rr(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Me){t=s;break}}return t}const xl=vl;function Br(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Sn(e,t,s,n,o){const{appear:r,mode:i,persisted:a=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:u,onEnterCancelled:p,onBeforeLeave:x,onLeave:v,onAfterLeave:w,onLeaveCancelled:k,onBeforeAppear:N,onAppear:B,onAfterAppear:z,onAppearCancelled:Y}=t,R=String(e.key),y=Br(s,e),b=(m,D)=>{m&&ze(m,n,9,D)},$=(m,D)=>{const I=D[1];b(m,D),Q(m)?m.every(h=>h.length<=1)&&I():m.length<=1&&I()},_={mode:i,persisted:a,beforeEnter(m){let D=c;if(!s.isMounted)if(r)D=N||c;else return;m[rt]&&m[rt](!0);const I=y[R];I&&jt(e,I)&&I.el[rt]&&I.el[rt](),b(D,[m])},enter(m){let D=f,I=u,h=p;if(!s.isMounted)if(r)D=B||f,I=z||u,h=Y||p;else return;let S=!1;const H=m[Cs]=ne=>{S||(S=!0,ne?b(h,[m]):b(I,[m]),_.delayedLeave&&_.delayedLeave(),m[Cs]=void 0)};D?$(D,[m,H]):H()},leave(m,D){const I=String(e.key);if(m[Cs]&&m[Cs](!0),s.isUnmounting)return D();b(x,[m]);let h=!1;const S=m[rt]=H=>{h||(h=!0,D(),H?b(k,[m]):b(w,[m]),m[rt]=void 0,y[I]===e&&delete y[I])};y[I]=e,v?$(v,[m,S]):S()},clone(m){const D=Sn(m,t,s,n,o);return o&&o(D),D}};return _}function fn(e){if(Zs(e))return e=wt(e),e.children=null,e}function fo(e){if(!Zs(e))return Dr(e.type)&&e.children?Rr(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&se(s.default))return s.default()}}function ps(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ps(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hr(e,t=!1,s){let n=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const a=s==null?i.key:String(s)+String(i.key!=null?i.key:r);i.type===re?(i.patchFlag&128&&o++,n=n.concat(Hr(i.children,t,a))):(t||i.type!==Me)&&n.push(a!=null?wt(i,{key:a}):i)}if(o>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function Ur(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ls=new WeakMap;function rs(e,t,s,n,o=!1){if(Q(e)){e.forEach((w,k)=>rs(w,t&&(Q(t)?t[k]:t),s,n,o));return}if(Ut(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&rs(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?sn(n.component):n.el,i=o?null:r,{i:a,r:c}=e,f=t&&t.r,u=a.refs===pe?a.refs={}:a.refs,p=a.setupState,x=ae(p),v=p===pe?qo:w=>ue(x,w);if(f!=null&&f!==c){if(po(t),ye(f))u[f]=null,v(f)&&(p[f]=null);else if(xe(f)){f.value=null;const w=t;w.k&&(u[w.k]=null)}}if(se(c))vs(c,a,12,[i,u]);else{const w=ye(c),k=xe(c);if(w||k){const N=()=>{if(e.f){const B=w?v(c)?p[c]:u[c]:c.value;if(o)Q(B)&&Fn(B,r);else if(Q(B))B.includes(r)||B.push(r);else if(w)u[c]=[r],v(c)&&(p[c]=u[c]);else{const z=[r];c.value=z,e.k&&(u[e.k]=z)}}else w?(u[c]=i,v(c)&&(p[c]=i)):k&&(c.value=i,e.k&&(u[e.k]=i))};if(i){const B=()=>{N(),Ls.delete(e)};B.id=-1,Ls.set(e,B),Ae(B,s)}else po(e),N()}}}function po(e){const t=Ls.get(e);t&&(t.flags|=8,Ls.delete(e))}zs().requestIdleCallback;zs().cancelIdleCallback;const Ut=e=>!!e.type.__asyncLoader,Zs=e=>e.type.__isKeepAlive;function yl(e,t){Vr(e,"a",t)}function _l(e,t){Vr(e,"da",t)}function Vr(e,t,s=Pe){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Qs(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Zs(o.parent.vnode)&&wl(n,t,s,o),o=o.parent}}function wl(e,t,s,n){const o=Qs(t,e,n,!0);zn(()=>{Fn(n[t],o)},s)}function Qs(e,t,s=Pe,n=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...i)=>{ct();const a=xs(s),c=ze(t,s,e,i);return a(),ut(),c});return n?o.unshift(r):o.push(r),r}}const pt=e=>(t,s=Pe)=>{(!ms||e==="sp")&&Qs(e,(...n)=>t(...n),s)},kl=pt("bm"),tt=pt("m"),$l=pt("bu"),Sl=pt("u"),Kr=pt("bum"),zn=pt("um"),Cl=pt("sp"),Tl=pt("rtg"),Ml=pt("rtc");function jl(e,t=Pe){Qs("ec",e,t)}const Il=Symbol.for("v-ndc");function ve(e,t,s,n){let o;const r=s,i=Q(e);if(i||ye(e)){const a=i&&at(e);let c=!1,f=!1;a&&(c=!Ne(e),f=ft(e),e=Ys(e)),o=new Array(e.length);for(let u=0,p=e.length;u<p;u++)o[u]=t(c?f?Vt(We(e[u])):We(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,r)}else if(me(e))if(e[Symbol.iterator])o=Array.from(e,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(e);o=new Array(a.length);for(let c=0,f=a.length;c<f;c++){const u=a[c];o[c]=t(e[u],u,c,r)}}else o=[];return o}function Al(e,t,s={},n,o){if(je.ce||je.parent&&Ut(je.parent)&&je.parent.ce){const f=Object.keys(s).length>0;return C(),be(re,null,[ie("slot",s,n)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),C();const i=r&&Wr(r(s)),a=s.key||i&&i.key,c=be(re,{key:(a&&!dt(a)?a:`_${t}`)+(!i&&n?"_fb":"")},i||[],i&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function Wr(e){return e.some(t=>gs(t)?!(t.type===Me||t.type===re&&!Wr(t.children)):!0)?e:null}const Cn=e=>e?ci(e)?sn(e):Cn(e.parent):null,is=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Cn(e.parent),$root:e=>Cn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Yr(e),$forceUpdate:e=>e.f||(e.f=()=>{Wn(e.update)}),$nextTick:e=>e.n||(e.n=Sr.bind(e.proxy)),$watch:e=>gl.bind(e)}),dn=(e,t)=>e!==pe&&!e.__isScriptSetup&&ue(e,t),El={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:r,accessCache:i,type:a,appContext:c}=e;if(t[0]!=="$"){const x=i[t];if(x!==void 0)switch(x){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(dn(n,t))return i[t]=1,n[t];if(o!==pe&&ue(o,t))return i[t]=2,o[t];if(ue(r,t))return i[t]=3,r[t];if(s!==pe&&ue(s,t))return i[t]=4,s[t];Tn&&(i[t]=0)}}const f=is[t];let u,p;if(f)return t==="$attrs"&&Ce(e.attrs,"get",""),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(s!==pe&&ue(s,t))return i[t]=4,s[t];if(p=c.config.globalProperties,ue(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:r}=e;return dn(o,t)?(o[t]=s,!0):n!==pe&&ue(n,t)?(n[t]=s,!0):ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,props:r,type:i}},a){let c;return!!(s[a]||e!==pe&&a[0]!=="$"&&ue(e,a)||dn(t,a)||ue(r,a)||ue(n,a)||ue(is,a)||ue(o.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ue(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ho(e){return Q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Tn=!0;function Pl(e){const t=Yr(e),s=e.proxy,n=e.ctx;Tn=!1,t.beforeCreate&&go(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:a,provide:c,inject:f,created:u,beforeMount:p,mounted:x,beforeUpdate:v,updated:w,activated:k,deactivated:N,beforeDestroy:B,beforeUnmount:z,destroyed:Y,unmounted:R,render:y,renderTracked:b,renderTriggered:$,errorCaptured:_,serverPrefetch:m,expose:D,inheritAttrs:I,components:h,directives:S,filters:H}=t;if(f&&Dl(f,n,null),i)for(const J in i){const q=i[J];se(q)&&(n[J]=q.bind(s))}if(o){const J=o.call(s,s);me(J)&&(e.data=Xs(J))}if(Tn=!0,r)for(const J in r){const q=r[J],_e=se(q)?q.bind(s,s):se(q.get)?q.get.bind(s,s):et,Re=!se(q)&&se(q.set)?q.set.bind(s):et,we=W({get:_e,set:Re});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>we.value,set:$e=>we.value=$e})}if(a)for(const J in a)zr(a[J],n,s,J);if(c){const J=se(c)?c.call(s):c;Reflect.ownKeys(J).forEach(q=>{fl(q,J[q])})}u&&go(u,e,"c");function ee(J,q){Q(q)?q.forEach(_e=>J(_e.bind(s))):q&&J(q.bind(s))}if(ee(kl,p),ee(tt,x),ee($l,v),ee(Sl,w),ee(yl,k),ee(_l,N),ee(jl,_),ee(Ml,b),ee(Tl,$),ee(Kr,z),ee(zn,R),ee(Cl,m),Q(D))if(D.length){const J=e.exposed||(e.exposed={});D.forEach(q=>{Object.defineProperty(J,q,{get:()=>s[q],set:_e=>s[q]=_e,enumerable:!0})})}else e.exposed||(e.exposed={});y&&e.render===et&&(e.render=y),I!=null&&(e.inheritAttrs=I),h&&(e.components=h),S&&(e.directives=S),m&&Ur(e)}function Dl(e,t,s=et){Q(e)&&(e=Mn(e));for(const n in e){const o=e[n];let r;me(o)?"default"in o?r=ns(o.from||n,o.default,!0):r=ns(o.from||n):r=ns(o),xe(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[n]=r}}function go(e,t,s){ze(Q(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function zr(e,t,s,n){let o=n.includes(".")?Er(s,n):()=>s[n];if(ye(e)){const r=t[e];se(r)&&At(o,r)}else if(se(e))At(o,e.bind(s));else if(me(e))if(Q(e))e.forEach(r=>zr(r,t,s,n));else{const r=se(e.handler)?e.handler.bind(s):t[e.handler];se(r)&&At(o,r,e)}}function Yr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!o.length&&!s&&!n?c=t:(c={},o.length&&o.forEach(f=>Ns(c,f,i,!0)),Ns(c,t,i)),me(t)&&r.set(t,c),c}function Ns(e,t,s,n=!1){const{mixins:o,extends:r}=t;r&&Ns(e,r,s,!0),o&&o.forEach(i=>Ns(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const a=Ol[i]||s&&s[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Ol={data:mo,props:bo,emits:bo,methods:Qt,computed:Qt,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:Qt,directives:Qt,watch:Ll,provide:mo,inject:Fl};function mo(e,t){return t?e?function(){return ke(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function Fl(e,t){return Qt(Mn(e),Mn(t))}function Mn(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ie(e,t){return e?[...new Set([].concat(e,t))]:t}function Qt(e,t){return e?ke(Object.create(null),e,t):t}function bo(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:ke(Object.create(null),ho(e),ho(t??{})):t}function Ll(e,t){if(!e)return t;if(!t)return e;const s=ke(Object.create(null),e);for(const n in t)s[n]=Ie(e[n],t[n]);return s}function Xr(){return{app:null,config:{isNativeTag:qo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nl=0;function Rl(e,t){return function(n,o=null){se(n)||(n=ke({},n)),o!=null&&!me(o)&&(o=null);const r=Xr(),i=new WeakSet,a=[];let c=!1;const f=r.app={_uid:Nl++,_component:n,_props:o,_container:null,_context:r,_instance:null,version:va,get config(){return r.config},set config(u){},use(u,...p){return i.has(u)||(u&&se(u.install)?(i.add(u),u.install(f,...p)):se(u)&&(i.add(u),u(f,...p))),f},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),f},component(u,p){return p?(r.components[u]=p,f):r.components[u]},directive(u,p){return p?(r.directives[u]=p,f):r.directives[u]},mount(u,p,x){if(!c){const v=f._ceVNode||ie(n,o);return v.appContext=r,x===!0?x="svg":x===!1&&(x=void 0),e(v,u,x),c=!0,f._container=u,u.__vue_app__=f,sn(v.component)}},onUnmount(u){a.push(u)},unmount(){c&&(ze(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,p){return r.provides[u]=p,f},runWithContext(u){const p=Et;Et=f;try{return u()}finally{Et=p}}};return f}}let Et=null;const Bl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_t(t)}Modifiers`]||e[`${Pt(t)}Modifiers`];function Hl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||pe;let o=s;const r=t.startsWith("update:"),i=r&&Bl(n,t.slice(7));i&&(i.trim&&(o=s.map(u=>ye(u)?u.trim():u)),i.number&&(o=s.map(Ln)));let a,c=n[a=rn(t)]||n[a=rn(_t(t))];!c&&r&&(c=n[a=rn(Pt(t))]),c&&ze(c,e,6,o);const f=n[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ze(f,e,6,o)}}const Ul=new WeakMap;function Gr(e,t,s=!1){const n=s?Ul:t.emitsCache,o=n.get(e);if(o!==void 0)return o;const r=e.emits;let i={},a=!1;if(!se(e)){const c=f=>{const u=Gr(f,t,!0);u&&(a=!0,ke(i,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(me(e)&&n.set(e,null),null):(Q(r)?r.forEach(c=>i[c]=null):ke(i,r),me(e)&&n.set(e,i),i)}function en(e,t){return!e||!Us(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(e,t[0].toLowerCase()+t.slice(1))||ue(e,Pt(t))||ue(e,t))}function vo(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[r],slots:i,attrs:a,emit:c,render:f,renderCache:u,props:p,data:x,setupState:v,ctx:w,inheritAttrs:k}=e,N=Fs(e);let B,z;try{if(s.shapeFlag&4){const R=o||n,y=R;B=Qe(f.call(y,R,u,p,v,x,w)),z=a}else{const R=t;B=Qe(R.length>1?R(p,{attrs:a,slots:i,emit:c}):R(p,null)),z=t.props?a:Vl(a)}}catch(R){ls.length=0,qs(R,e,1),B=ie(Me)}let Y=B;if(z&&k!==!1){const R=Object.keys(z),{shapeFlag:y}=Y;R.length&&y&7&&(r&&R.some(On)&&(z=Kl(z,r)),Y=wt(Y,z,!1,!0))}return s.dirs&&(Y=wt(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(s.dirs):s.dirs),s.transition&&ps(Y,s.transition),B=Y,Fs(N),B}const Vl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Us(s))&&((t||(t={}))[s]=e[s]);return t},Kl=(e,t)=>{const s={};for(const n in e)(!On(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Wl(e,t,s){const{props:n,children:o,component:r}=e,{props:i,children:a,patchFlag:c}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?xo(n,i,f):!!i;if(c&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const x=u[p];if(i[x]!==n[x]&&!en(f,x))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?xo(n,i,f):!0:!!i;return!1}function xo(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const r=n[o];if(t[r]!==e[r]&&!en(s,r))return!0}return!1}function zl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const qr={},Jr=()=>Object.create(qr),Zr=e=>Object.getPrototypeOf(e)===qr;function Yl(e,t,s,n=!1){const o={},r=Jr();e.propsDefaults=Object.create(null),Qr(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=n?o:Ji(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Xl(e,t,s,n){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,a=ae(o),[c]=e.propsOptions;let f=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let x=u[p];if(en(e.emitsOptions,x))continue;const v=t[x];if(c)if(ue(r,x))v!==r[x]&&(r[x]=v,f=!0);else{const w=_t(x);o[w]=jn(c,a,w,v,e,!1)}else v!==r[x]&&(r[x]=v,f=!0)}}}else{Qr(e,t,o,r)&&(f=!0);let u;for(const p in a)(!t||!ue(t,p)&&((u=Pt(p))===p||!ue(t,u)))&&(c?s&&(s[p]!==void 0||s[u]!==void 0)&&(o[p]=jn(c,a,p,void 0,e,!0)):delete o[p]);if(r!==a)for(const p in r)(!t||!ue(t,p))&&(delete r[p],f=!0)}f&&it(e.attrs,"set","")}function Qr(e,t,s,n){const[o,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(es(c))continue;const f=t[c];let u;o&&ue(o,u=_t(c))?!r||!r.includes(u)?s[u]=f:(a||(a={}))[u]=f:en(e.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,i=!0)}if(r){const c=ae(s),f=a||pe;for(let u=0;u<r.length;u++){const p=r[u];s[p]=jn(o,c,p,f[p],e,!ue(f,p))}}return i}function jn(e,t,s,n,o,r){const i=e[s];if(i!=null){const a=ue(i,"default");if(a&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&se(c)){const{propsDefaults:f}=o;if(s in f)n=f[s];else{const u=xs(o);n=f[s]=c.call(null,t),u()}}else n=c;o.ce&&o.ce._setProp(s,n)}i[0]&&(r&&!a?n=!1:i[1]&&(n===""||n===Pt(s))&&(n=!0))}return n}const Gl=new WeakMap;function ei(e,t,s=!1){const n=s?Gl:t.propsCache,o=n.get(e);if(o)return o;const r=e.props,i={},a=[];let c=!1;if(!se(e)){const u=p=>{c=!0;const[x,v]=ei(p,t,!0);ke(i,x),v&&a.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return me(e)&&n.set(e,Rt),Rt;if(Q(r))for(let u=0;u<r.length;u++){const p=_t(r[u]);yo(p)&&(i[p]=pe)}else if(r)for(const u in r){const p=_t(u);if(yo(p)){const x=r[u],v=i[p]=Q(x)||se(x)?{type:x}:ke({},x),w=v.type;let k=!1,N=!0;if(Q(w))for(let B=0;B<w.length;++B){const z=w[B],Y=se(z)&&z.name;if(Y==="Boolean"){k=!0;break}else Y==="String"&&(N=!1)}else k=se(w)&&w.name==="Boolean";v[0]=k,v[1]=N,(k||ue(v,"default"))&&a.push(p)}}const f=[i,a];return me(e)&&n.set(e,f),f}function yo(e){return e[0]!=="$"&&!es(e)}const Yn=e=>e==="_"||e==="_ctx"||e==="$stable",Xn=e=>Q(e)?e.map(Qe):[Qe(e)],ql=(e,t,s)=>{if(t._n)return t;const n=Te((...o)=>Xn(t(...o)),s);return n._c=!1,n},ti=(e,t,s)=>{const n=e._ctx;for(const o in e){if(Yn(o))continue;const r=e[o];if(se(r))t[o]=ql(o,r,n);else if(r!=null){const i=Xn(r);t[o]=()=>i}}},si=(e,t)=>{const s=Xn(t);e.slots.default=()=>s},ni=(e,t,s)=>{for(const n in t)(s||!Yn(n))&&(e[n]=t[n])},Jl=(e,t,s)=>{const n=e.slots=Jr();if(e.vnode.shapeFlag&32){const o=t._;o?(ni(n,t,s),s&&sr(n,"_",o,!0)):ti(t,n)}else t&&si(e,t)},Zl=(e,t,s)=>{const{vnode:n,slots:o}=e;let r=!0,i=pe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:ni(o,t,s):(r=!t.$stable,ti(t,o)),i=t}else t&&(si(e,t),i={default:1});if(r)for(const a in o)!Yn(a)&&i[a]==null&&delete o[a]},Ae=na;function Ql(e){return ea(e)}function ea(e,t){const s=zs();s.__VUE__=!0;const{insert:n,remove:o,patchProp:r,createElement:i,createText:a,createComment:c,setText:f,setElementText:u,parentNode:p,nextSibling:x,setScopeId:v=et,insertStaticContent:w}=e,k=(d,g,T,O=null,A=null,E=null,U=void 0,L=null,F=!!g.dynamicChildren)=>{if(d===g)return;d&&!jt(d,g)&&(O=zt(d),$e(d,A,E,!0),d=null),g.patchFlag===-2&&(F=!1,g.dynamicChildren=null);const{type:P,ref:Z,shapeFlag:K}=g;switch(P){case tn:N(d,g,T,O);break;case Me:B(d,g,T,O);break;case Is:d==null&&z(g,T,O,U);break;case re:h(d,g,T,O,A,E,U,L,F);break;default:K&1?y(d,g,T,O,A,E,U,L,F):K&6?S(d,g,T,O,A,E,U,L,F):(K&64||K&128)&&P.process(d,g,T,O,A,E,U,L,F,Xt)}Z!=null&&A?rs(Z,d&&d.ref,E,g||d,!g):Z==null&&d&&d.ref!=null&&rs(d.ref,null,E,d,!0)},N=(d,g,T,O)=>{if(d==null)n(g.el=a(g.children),T,O);else{const A=g.el=d.el;g.children!==d.children&&f(A,g.children)}},B=(d,g,T,O)=>{d==null?n(g.el=c(g.children||""),T,O):g.el=d.el},z=(d,g,T,O)=>{[d.el,d.anchor]=w(d.children,g,T,O,d.el,d.anchor)},Y=({el:d,anchor:g},T,O)=>{let A;for(;d&&d!==g;)A=x(d),n(d,T,O),d=A;n(g,T,O)},R=({el:d,anchor:g})=>{let T;for(;d&&d!==g;)T=x(d),o(d),d=T;o(g)},y=(d,g,T,O,A,E,U,L,F)=>{if(g.type==="svg"?U="svg":g.type==="math"&&(U="mathml"),d==null)b(g,T,O,A,E,U,L,F);else{const P=d.el&&d.el._isVueCE?d.el:null;try{P&&P._beginPatch(),m(d,g,A,E,U,L,F)}finally{P&&P._endPatch()}}},b=(d,g,T,O,A,E,U,L)=>{let F,P;const{props:Z,shapeFlag:K,transition:G,dirs:te}=d;if(F=d.el=i(d.type,E,Z&&Z.is,Z),K&8?u(F,d.children):K&16&&_(d.children,F,null,O,A,pn(d,E),U,L),te&&$t(d,null,O,"created"),$(F,d,d.scopeId,U,O),Z){for(const he in Z)he!=="value"&&!es(he)&&r(F,he,null,Z[he],E,O);"value"in Z&&r(F,"value",null,Z.value,E),(P=Z.onVnodeBeforeMount)&&Je(P,O,d)}te&&$t(d,null,O,"beforeMount");const le=ta(A,G);le&&G.beforeEnter(F),n(F,g,T),((P=Z&&Z.onVnodeMounted)||le||te)&&Ae(()=>{P&&Je(P,O,d),le&&G.enter(F),te&&$t(d,null,O,"mounted")},A)},$=(d,g,T,O,A)=>{if(T&&v(d,T),O)for(let E=0;E<O.length;E++)v(d,O[E]);if(A){let E=A.subTree;if(g===E||ii(E.type)&&(E.ssContent===g||E.ssFallback===g)){const U=A.vnode;$(d,U,U.scopeId,U.slotScopeIds,A.parent)}}},_=(d,g,T,O,A,E,U,L,F=0)=>{for(let P=F;P<d.length;P++){const Z=d[P]=L?xt(d[P]):Qe(d[P]);k(null,Z,g,T,O,A,E,U,L)}},m=(d,g,T,O,A,E,U)=>{const L=g.el=d.el;let{patchFlag:F,dynamicChildren:P,dirs:Z}=g;F|=d.patchFlag&16;const K=d.props||pe,G=g.props||pe;let te;if(T&&St(T,!1),(te=G.onVnodeBeforeUpdate)&&Je(te,T,g,d),Z&&$t(g,d,T,"beforeUpdate"),T&&St(T,!0),(K.innerHTML&&G.innerHTML==null||K.textContent&&G.textContent==null)&&u(L,""),P?D(d.dynamicChildren,P,L,T,O,pn(g,A),E):U||q(d,g,L,null,T,O,pn(g,A),E,!1),F>0){if(F&16)I(L,K,G,T,A);else if(F&2&&K.class!==G.class&&r(L,"class",null,G.class,A),F&4&&r(L,"style",K.style,G.style,A),F&8){const le=g.dynamicProps;for(let he=0;he<le.length;he++){const fe=le[he],De=K[fe],Oe=G[fe];(Oe!==De||fe==="value")&&r(L,fe,De,Oe,A,T)}}F&1&&d.children!==g.children&&u(L,g.children)}else!U&&P==null&&I(L,K,G,T,A);((te=G.onVnodeUpdated)||Z)&&Ae(()=>{te&&Je(te,T,g,d),Z&&$t(g,d,T,"updated")},O)},D=(d,g,T,O,A,E,U)=>{for(let L=0;L<g.length;L++){const F=d[L],P=g[L],Z=F.el&&(F.type===re||!jt(F,P)||F.shapeFlag&198)?p(F.el):T;k(F,P,Z,null,O,A,E,U,!0)}},I=(d,g,T,O,A)=>{if(g!==T){if(g!==pe)for(const E in g)!es(E)&&!(E in T)&&r(d,E,g[E],null,A,O);for(const E in T){if(es(E))continue;const U=T[E],L=g[E];U!==L&&E!=="value"&&r(d,E,L,U,A,O)}"value"in T&&r(d,"value",g.value,T.value,A)}},h=(d,g,T,O,A,E,U,L,F)=>{const P=g.el=d?d.el:a(""),Z=g.anchor=d?d.anchor:a("");let{patchFlag:K,dynamicChildren:G,slotScopeIds:te}=g;te&&(L=L?L.concat(te):te),d==null?(n(P,T,O),n(Z,T,O),_(g.children||[],T,Z,A,E,U,L,F)):K>0&&K&64&&G&&d.dynamicChildren&&d.dynamicChildren.length===G.length?(D(d.dynamicChildren,G,T,A,E,U,L),(g.key!=null||A&&g===A.subTree)&&Gn(d,g,!0)):q(d,g,T,Z,A,E,U,L,F)},S=(d,g,T,O,A,E,U,L,F)=>{g.slotScopeIds=L,d==null?g.shapeFlag&512?A.ctx.activate(g,T,O,U,F):H(g,T,O,A,E,U,F):ne(d,g,F)},H=(d,g,T,O,A,E,U)=>{const L=d.component=fa(d,O,A);if(Zs(d)&&(L.ctx.renderer=Xt),da(L,!1,U),L.asyncDep){if(A&&A.registerDep(L,ee,U),!d.el){const F=L.subTree=ie(Me);B(null,F,g,T),d.placeholder=F.el}}else ee(L,d,g,T,A,E,U)},ne=(d,g,T)=>{const O=g.component=d.component;if(Wl(d,g,T))if(O.asyncDep&&!O.asyncResolved){J(O,g,T);return}else O.next=g,O.update();else g.el=d.el,O.vnode=g},ee=(d,g,T,O,A,E,U)=>{const L=()=>{if(d.isMounted){let{next:K,bu:G,u:te,parent:le,vnode:he}=d;{const Ge=oi(d);if(Ge){K&&(K.el=he.el,J(d,K,U)),Ge.asyncDep.then(()=>{d.isUnmounted||L()});return}}let fe=K,De;St(d,!1),K?(K.el=he.el,J(d,K,U)):K=he,G&&Ms(G),(De=K.props&&K.props.onVnodeBeforeUpdate)&&Je(De,le,K,he),St(d,!0);const Oe=vo(d),Xe=d.subTree;d.subTree=Oe,k(Xe,Oe,p(Xe.el),zt(Xe),d,A,E),K.el=Oe.el,fe===null&&zl(d,Oe.el),te&&Ae(te,A),(De=K.props&&K.props.onVnodeUpdated)&&Ae(()=>Je(De,le,K,he),A)}else{let K;const{el:G,props:te}=g,{bm:le,m:he,parent:fe,root:De,type:Oe}=d,Xe=Ut(g);St(d,!1),le&&Ms(le),!Xe&&(K=te&&te.onVnodeBeforeMount)&&Je(K,fe,g),St(d,!0);{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle(Oe);const Ge=d.subTree=vo(d);k(null,Ge,T,O,d,A,E),g.el=Ge.el}if(he&&Ae(he,A),!Xe&&(K=te&&te.onVnodeMounted)){const Ge=g;Ae(()=>Je(K,fe,Ge),A)}(g.shapeFlag&256||fe&&Ut(fe.vnode)&&fe.vnode.shapeFlag&256)&&d.a&&Ae(d.a,A),d.isMounted=!0,g=T=O=null}};d.scope.on();const F=d.effect=new cr(L);d.scope.off();const P=d.update=F.run.bind(F),Z=d.job=F.runIfDirty.bind(F);Z.i=d,Z.id=d.uid,F.scheduler=()=>Wn(Z),St(d,!0),P()},J=(d,g,T)=>{g.component=d;const O=d.vnode.props;d.vnode=g,d.next=null,Xl(d,g.props,O,T),Zl(d,g.children,T),ct(),lo(d),ut()},q=(d,g,T,O,A,E,U,L,F=!1)=>{const P=d&&d.children,Z=d?d.shapeFlag:0,K=g.children,{patchFlag:G,shapeFlag:te}=g;if(G>0){if(G&128){Re(P,K,T,O,A,E,U,L,F);return}else if(G&256){_e(P,K,T,O,A,E,U,L,F);return}}te&8?(Z&16&&Ve(P,A,E),K!==P&&u(T,K)):Z&16?te&16?Re(P,K,T,O,A,E,U,L,F):Ve(P,A,E,!0):(Z&8&&u(T,""),te&16&&_(K,T,O,A,E,U,L,F))},_e=(d,g,T,O,A,E,U,L,F)=>{d=d||Rt,g=g||Rt;const P=d.length,Z=g.length,K=Math.min(P,Z);let G;for(G=0;G<K;G++){const te=g[G]=F?xt(g[G]):Qe(g[G]);k(d[G],te,T,null,A,E,U,L,F)}P>Z?Ve(d,A,E,!0,!1,K):_(g,T,O,A,E,U,L,F,K)},Re=(d,g,T,O,A,E,U,L,F)=>{let P=0;const Z=g.length;let K=d.length-1,G=Z-1;for(;P<=K&&P<=G;){const te=d[P],le=g[P]=F?xt(g[P]):Qe(g[P]);if(jt(te,le))k(te,le,T,null,A,E,U,L,F);else break;P++}for(;P<=K&&P<=G;){const te=d[K],le=g[G]=F?xt(g[G]):Qe(g[G]);if(jt(te,le))k(te,le,T,null,A,E,U,L,F);else break;K--,G--}if(P>K){if(P<=G){const te=G+1,le=te<Z?g[te].el:O;for(;P<=G;)k(null,g[P]=F?xt(g[P]):Qe(g[P]),T,le,A,E,U,L,F),P++}}else if(P>G)for(;P<=K;)$e(d[P],A,E,!0),P++;else{const te=P,le=P,he=new Map;for(P=le;P<=G;P++){const Fe=g[P]=F?xt(g[P]):Qe(g[P]);Fe.key!=null&&he.set(Fe.key,P)}let fe,De=0;const Oe=G-le+1;let Xe=!1,Ge=0;const Gt=new Array(Oe);for(P=0;P<Oe;P++)Gt[P]=0;for(P=te;P<=K;P++){const Fe=d[P];if(De>=Oe){$e(Fe,A,E,!0);continue}let qe;if(Fe.key!=null)qe=he.get(Fe.key);else for(fe=le;fe<=G;fe++)if(Gt[fe-le]===0&&jt(Fe,g[fe])){qe=fe;break}qe===void 0?$e(Fe,A,E,!0):(Gt[qe-le]=P+1,qe>=Ge?Ge=qe:Xe=!0,k(Fe,g[qe],T,null,A,E,U,L,F),De++)}const to=Xe?sa(Gt):Rt;for(fe=to.length-1,P=Oe-1;P>=0;P--){const Fe=le+P,qe=g[Fe],so=g[Fe+1],no=Fe+1<Z?so.el||ri(so):O;Gt[P]===0?k(null,qe,T,no,A,E,U,L,F):Xe&&(fe<0||P!==to[fe]?we(qe,T,no,2):fe--)}}},we=(d,g,T,O,A=null)=>{const{el:E,type:U,transition:L,children:F,shapeFlag:P}=d;if(P&6){we(d.component.subTree,g,T,O);return}if(P&128){d.suspense.move(g,T,O);return}if(P&64){U.move(d,g,T,Xt);return}if(U===re){n(E,g,T);for(let K=0;K<F.length;K++)we(F[K],g,T,O);n(d.anchor,g,T);return}if(U===Is){Y(d,g,T);return}if(O!==2&&P&1&&L)if(O===0)L.beforeEnter(E),n(E,g,T),Ae(()=>L.enter(E),A);else{const{leave:K,delayLeave:G,afterLeave:te}=L,le=()=>{d.ctx.isUnmounted?o(E):n(E,g,T)},he=()=>{E._isLeaving&&E[rt](!0),K(E,()=>{le(),te&&te()})};G?G(E,le,he):he()}else n(E,g,T)},$e=(d,g,T,O=!1,A=!1)=>{const{type:E,props:U,ref:L,children:F,dynamicChildren:P,shapeFlag:Z,patchFlag:K,dirs:G,cacheIndex:te}=d;if(K===-2&&(A=!1),L!=null&&(ct(),rs(L,null,T,d,!0),ut()),te!=null&&(g.renderCache[te]=void 0),Z&256){g.ctx.deactivate(d);return}const le=Z&1&&G,he=!Ut(d);let fe;if(he&&(fe=U&&U.onVnodeBeforeUnmount)&&Je(fe,g,d),Z&6)Ue(d.component,T,O);else{if(Z&128){d.suspense.unmount(T,O);return}le&&$t(d,null,g,"beforeUnmount"),Z&64?d.type.remove(d,g,T,Xt,O):P&&!P.hasOnce&&(E!==re||K>0&&K&64)?Ve(P,g,T,!1,!0):(E===re&&K&384||!A&&Z&16)&&Ve(F,g,T),O&&Dt(d)}(he&&(fe=U&&U.onVnodeUnmounted)||le)&&Ae(()=>{fe&&Je(fe,g,d),le&&$t(d,null,g,"unmounted")},T)},Dt=d=>{const{type:g,el:T,anchor:O,transition:A}=d;if(g===re){on(T,O);return}if(g===Is){R(d);return}const E=()=>{o(T),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(d.shapeFlag&1&&A&&!A.persisted){const{leave:U,delayLeave:L}=A,F=()=>U(T,E);L?L(d.el,E,F):F()}else E()},on=(d,g)=>{let T;for(;d!==g;)T=x(d),o(d),d=T;o(g)},Ue=(d,g,T)=>{const{bum:O,scope:A,job:E,subTree:U,um:L,m:F,a:P}=d;_o(F),_o(P),O&&Ms(O),A.stop(),E&&(E.flags|=8,$e(U,d,g,T)),L&&Ae(L,g),Ae(()=>{d.isUnmounted=!0},g)},Ve=(d,g,T,O=!1,A=!1,E=0)=>{for(let U=E;U<d.length;U++)$e(d[U],g,T,O,A)},zt=d=>{if(d.shapeFlag&6)return zt(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const g=x(d.anchor||d.el),T=g&&g[Pr];return T?x(T):g};let ht=!1;const Yt=(d,g,T)=>{let O;d==null?g._vnode&&($e(g._vnode,null,null,!0),O=g._vnode.component):k(g._vnode||null,d,g,null,null,null,T),g._vnode=d,ht||(ht=!0,lo(O),Tr(),ht=!1)},Xt={p:k,um:$e,m:we,r:Dt,mt:H,mc:_,pc:q,pbc:D,n:zt,o:e};return{render:Yt,hydrate:void 0,createApp:Rl(Yt)}}function pn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function St({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ta(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Gn(e,t,s=!1){const n=e.children,o=t.children;if(Q(n)&&Q(o))for(let r=0;r<n.length;r++){const i=n[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=xt(o[r]),a.el=i.el),!s&&a.patchFlag!==-2&&Gn(i,a)),a.type===tn&&(a.patchFlag!==-1?a.el=i.el:a.__elIndex=r+(e.type===re?1:0)),a.type===Me&&!a.el&&(a.el=i.el)}}function sa(e){const t=e.slice(),s=[0];let n,o,r,i,a;const c=e.length;for(n=0;n<c;n++){const f=e[n];if(f!==0){if(o=s[s.length-1],e[o]<f){t[n]=o,s.push(n);continue}for(r=0,i=s.length-1;r<i;)a=r+i>>1,e[s[a]]<f?r=a+1:i=a;f<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,i=s[r-1];r-- >0;)s[r]=i,i=t[i];return s}function oi(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:oi(t)}function _o(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function ri(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?ri(t.subTree):null}const ii=e=>e.__isSuspense;function na(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):ul(e)}const re=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),Me=Symbol.for("v-cmt"),Is=Symbol.for("v-stc"),ls=[];let Le=null;function C(e=!1){ls.push(Le=e?null:[])}function oa(){ls.pop(),Le=ls[ls.length-1]||null}let hs=1;function Rs(e,t=!1){hs+=e,e<0&&Le&&t&&(Le.hasOnce=!0)}function li(e){return e.dynamicChildren=hs>0?Le||Rt:null,oa(),hs>0&&Le&&Le.push(e),e}function j(e,t,s,n,o,r){return li(l(e,t,s,n,o,r,!0))}function be(e,t,s,n,o){return li(ie(e,t,s,n,o,!0))}function gs(e){return e?e.__v_isVNode===!0:!1}function jt(e,t){return e.type===t.type&&e.key===t.key}const ai=({key:e})=>e??null,As=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ye(e)||xe(e)||se(e)?{i:je,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,n=0,o=null,r=e===re?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ai(t),ref:t&&As(t),scopeId:jr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:je};return a?(qn(c,s),r&128&&e.normalize(c)):s&&(c.shapeFlag|=ye(s)?8:16),hs>0&&!i&&Le&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Le.push(c),c}const ie=ra;function ra(e,t=null,s=null,n=0,o=null,r=!1){if((!e||e===Il)&&(e=Me),gs(e)){const a=wt(e,t,!0);return s&&qn(a,s),hs>0&&!r&&Le&&(a.shapeFlag&6?Le[Le.indexOf(e)]=a:Le.push(a)),a.patchFlag=-2,a}if(ma(e)&&(e=e.__vccOpts),t){t=ia(t);let{class:a,style:c}=t;a&&!ye(a)&&(t.class=oe(a)),me(c)&&(Gs(c)&&!Q(c)&&(c=ke({},c)),t.style=ce(c))}const i=ye(e)?1:ii(e)?128:Dr(e)?64:me(e)?4:se(e)?2:0;return l(e,t,s,n,o,i,r,!0)}function ia(e){return e?Gs(e)||Zr(e)?ke({},e):e:null}function wt(e,t,s=!1,n=!1){const{props:o,ref:r,patchFlag:i,children:a,transition:c}=e,f=t?aa(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ai(f),ref:t&&t.ref?s&&r?Q(r)?r.concat(As(t)):[r,As(t)]:As(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&wt(e.ssContent),ssFallback:e.ssFallback&&wt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&ps(u,c.clone(u)),u}function Bs(e=" ",t=0){return ie(tn,null,e,t)}function la(e,t){const s=ie(Is,null,e);return s.staticCount=t,s}function de(e="",t=!1){return t?(C(),be(Me,null,e)):ie(Me,null,e)}function Qe(e){return e==null||typeof e=="boolean"?ie(Me):Q(e)?ie(re,null,e.slice()):gs(e)?xt(e):ie(tn,null,String(e))}function xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:wt(e)}function qn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Q(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),qn(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Zr(t)?t._ctx=je:o===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:je},s=32):(t=String(t),n&64?(s=16,t=[Bs(t)]):s=8);e.children=t,e.shapeFlag|=s}function aa(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=oe([t.class,n.class]));else if(o==="style")t.style=ce([t.style,n.style]);else if(Us(o)){const r=t[o],i=n[o];i&&r!==i&&!(Q(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=n[o])}return t}function Je(e,t,s,n=null){ze(e,t,7,[s,n])}const ca=Xr();let ua=0;function fa(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||ca,r={uid:ua++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ir(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ei(n,o),emitsOptions:Gr(n,o),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:n.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Hl.bind(null,r),e.ce&&e.ce(r),r}let Pe=null;const Jn=()=>Pe||je;let Hs,In;{const e=zs(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Hs=t("__VUE_INSTANCE_SETTERS__",s=>Pe=s),In=t("__VUE_SSR_SETTERS__",s=>ms=s)}const xs=e=>{const t=Pe;return Hs(e),e.scope.on(),()=>{e.scope.off(),Hs(t)}},wo=()=>{Pe&&Pe.scope.off(),Hs(null)};function ci(e){return e.vnode.shapeFlag&4}let ms=!1;function da(e,t=!1,s=!1){t&&In(t);const{props:n,children:o}=e.vnode,r=ci(e);Yl(e,n,r,t),Jl(e,o,s||t);const i=r?pa(e,t):void 0;return t&&In(!1),i}function pa(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,El);const{setup:n}=s;if(n){ct();const o=e.setupContext=n.length>1?ga(e):null,r=xs(e),i=vs(n,e,0,[e.props,o]),a=Zo(i);if(ut(),r(),(a||e.sp)&&!Ut(e)&&Ur(e),a){if(i.then(wo,wo),t)return i.then(c=>{ko(e,c)}).catch(c=>{qs(c,e,0)});e.asyncDep=i}else ko(e,i)}else ui(e)}function ko(e,t,s){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=kr(t)),ui(e)}function ui(e,t,s){const n=e.type;e.render||(e.render=n.render||et);{const o=xs(e);ct();try{Pl(e)}finally{ut(),o()}}}const ha={get(e,t){return Ce(e,"get",""),e[t]}};function ga(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ha),slots:e.slots,emit:e.emit,expose:t}}function sn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(kr(Kn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in is)return is[s](e)},has(t,s){return s in t||s in is}})):e.proxy}function ma(e){return se(e)&&"__vccOpts"in e}const W=(e,t)=>rl(e,t,ms);function ba(e,t,s){try{Rs(-1);const n=arguments.length;return n===2?me(t)&&!Q(t)?gs(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&gs(s)&&(s=[s]),ie(e,t,s))}finally{Rs(1)}}const va="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;const $o=typeof window<"u"&&window.trustedTypes;if($o)try{An=$o.createPolicy("vue",{createHTML:e=>e})}catch{}const fi=An?e=>An.createHTML(e):e=>e,xa="http://www.w3.org/2000/svg",ya="http://www.w3.org/1998/Math/MathML",ot=typeof document<"u"?document:null,So=ot&&ot.createElement("template"),_a={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?ot.createElementNS(xa,e):t==="mathml"?ot.createElementNS(ya,e):s?ot.createElement(e,{is:s}):ot.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>ot.createTextNode(e),createComment:e=>ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,r){const i=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{So.innerHTML=fi(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=So.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},gt="transition",Jt="animation",bs=Symbol("_vtc"),di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wa=ke({},Lr,di),ka=e=>(e.displayName="Transition",e.props=wa,e),Zn=ka((e,{slots:t})=>ba(xl,$a(e),t)),Ct=(e,t=[])=>{Q(e)?e.forEach(s=>s(...t)):e&&e(...t)},Co=e=>e?Q(e)?e.some(t=>t.length>1):e.length>1:!1;function $a(e){const t={};for(const h in e)h in di||(t[h]=e[h]);if(e.css===!1)return t;const{name:s="v",type:n,duration:o,enterFromClass:r=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:c=r,appearActiveClass:f=i,appearToClass:u=a,leaveFromClass:p=`${s}-leave-from`,leaveActiveClass:x=`${s}-leave-active`,leaveToClass:v=`${s}-leave-to`}=e,w=Sa(o),k=w&&w[0],N=w&&w[1],{onBeforeEnter:B,onEnter:z,onEnterCancelled:Y,onLeave:R,onLeaveCancelled:y,onBeforeAppear:b=B,onAppear:$=z,onAppearCancelled:_=Y}=t,m=(h,S,H,ne)=>{h._enterCancelled=ne,Tt(h,S?u:a),Tt(h,S?f:i),H&&H()},D=(h,S)=>{h._isLeaving=!1,Tt(h,p),Tt(h,v),Tt(h,x),S&&S()},I=h=>(S,H)=>{const ne=h?$:z,ee=()=>m(S,h,H);Ct(ne,[S,ee]),To(()=>{Tt(S,h?c:r),nt(S,h?u:a),Co(ne)||Mo(S,n,k,ee)})};return ke(t,{onBeforeEnter(h){Ct(B,[h]),nt(h,r),nt(h,i)},onBeforeAppear(h){Ct(b,[h]),nt(h,c),nt(h,f)},onEnter:I(!1),onAppear:I(!0),onLeave(h,S){h._isLeaving=!0;const H=()=>D(h,S);nt(h,p),h._enterCancelled?(nt(h,x),Ao(h)):(Ao(h),nt(h,x)),To(()=>{h._isLeaving&&(Tt(h,p),nt(h,v),Co(R)||Mo(h,n,N,H))}),Ct(R,[h,H])},onEnterCancelled(h){m(h,!1,void 0,!0),Ct(Y,[h])},onAppearCancelled(h){m(h,!0,void 0,!0),Ct(_,[h])},onLeaveCancelled(h){D(h),Ct(y,[h])}})}function Sa(e){if(e==null)return null;if(me(e))return[hn(e.enter),hn(e.leave)];{const t=hn(e);return[t,t]}}function hn(e){return $i(e)}function nt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[bs]||(e[bs]=new Set)).add(t)}function Tt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[bs];s&&(s.delete(t),s.size||(e[bs]=void 0))}function To(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ca=0;function Mo(e,t,s,n){const o=e._endId=++Ca,r=()=>{o===e._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:i,timeout:a,propCount:c}=Ta(e,t);if(!i)return n();const f=i+"end";let u=0;const p=()=>{e.removeEventListener(f,x),r()},x=v=>{v.target===e&&++u>=c&&p()};setTimeout(()=>{u<c&&p()},a+1),e.addEventListener(f,x)}function Ta(e,t){const s=window.getComputedStyle(e),n=w=>(s[w]||"").split(", "),o=n(`${gt}Delay`),r=n(`${gt}Duration`),i=jo(o,r),a=n(`${Jt}Delay`),c=n(`${Jt}Duration`),f=jo(a,c);let u=null,p=0,x=0;t===gt?i>0&&(u=gt,p=i,x=r.length):t===Jt?f>0&&(u=Jt,p=f,x=c.length):(p=Math.max(i,f),u=p>0?i>f?gt:Jt:null,x=u?u===gt?r.length:c.length:0);const v=u===gt&&/\b(?:transform|all)(?:,|$)/.test(n(`${gt}Property`).toString());return{type:u,timeout:p,propCount:x,hasTransform:v}}function jo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>Io(s)+Io(e[n])))}function Io(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ao(e){return(e?e.ownerDocument:document).body.offsetHeight}function Ma(e,t,s){const n=e[bs];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Eo=Symbol("_vod"),ja=Symbol("_vsh"),Ia=Symbol(""),Aa=/(?:^|;)\s*display\s*:/;function Ea(e,t,s){const n=e.style,o=ye(s);let r=!1;if(s&&!o){if(t)if(ye(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&Es(n,a,"")}else for(const i in t)s[i]==null&&Es(n,i,"");for(const i in s)i==="display"&&(r=!0),Es(n,i,s[i])}else if(o){if(t!==s){const i=n[Ia];i&&(s+=";"+i),n.cssText=s,r=Aa.test(s)}}else t&&e.removeAttribute("style");Eo in e&&(e[Eo]=r?n.display:"",e[ja]&&(n.display="none"))}const Po=/\s*!important$/;function Es(e,t,s){if(Q(s))s.forEach(n=>Es(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Pa(e,t);Po.test(s)?e.setProperty(Pt(n),s.replace(Po,""),"important"):e[n]=s}}const Do=["Webkit","Moz","ms"],gn={};function Pa(e,t){const s=gn[t];if(s)return s;let n=_t(t);if(n!=="filter"&&n in e)return gn[t]=n;n=tr(n);for(let o=0;o<Do.length;o++){const r=Do[o]+n;if(r in e)return gn[t]=r}return t}const Oo="http://www.w3.org/1999/xlink";function Fo(e,t,s,n,o,r=Ii(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Oo,t.slice(6,t.length)):e.setAttributeNS(Oo,t,s):s==null||r&&!nr(s)?e.removeAttribute(t):e.setAttribute(t,r?"":dt(s)?String(s):s)}function Lo(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?fi(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=nr(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(o||t)}function Nt(e,t,s,n){e.addEventListener(t,s,n)}function Da(e,t,s,n){e.removeEventListener(t,s,n)}const No=Symbol("_vei");function Oa(e,t,s,n,o=null){const r=e[No]||(e[No]={}),i=r[t];if(n&&i)i.value=n;else{const[a,c]=Fa(t);if(n){const f=r[t]=Ra(n,o);Nt(e,a,f,c)}else i&&(Da(e,a,i,c),r[t]=void 0)}}const Ro=/(?:Once|Passive|Capture)$/;function Fa(e){let t;if(Ro.test(e)){t={};let n;for(;n=e.match(Ro);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pt(e.slice(2)),t]}let mn=0;const La=Promise.resolve(),Na=()=>mn||(La.then(()=>mn=0),mn=Date.now());function Ra(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ze(Ba(n,s.value),t,5,[n])};return s.value=e,s.attached=Na(),s}function Ba(e,t){if(Q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ha=(e,t,s,n,o,r)=>{const i=o==="svg";t==="class"?Ma(e,n,i):t==="style"?Ea(e,s,n):Us(t)?On(t)||Oa(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ua(e,t,n,i))?(Lo(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fo(e,t,n,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ye(n))?Lo(e,_t(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Fo(e,t,n,i))};function Ua(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bo(t)&&se(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Bo(t)&&ye(s)?!1:t in e}const Ho=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?s=>Ms(t,s):t};function Va(e){e.target.composing=!0}function Uo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const bn=Symbol("_assign");function Vo(e,t,s){return t&&(e=e.trim()),s&&(e=Ln(e)),e}const pi={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e[bn]=Ho(o);const r=n||o.props&&o.props.type==="number";Nt(e,t?"change":"input",i=>{i.target.composing||e[bn](Vo(e.value,s,r))}),(s||r)&&Nt(e,"change",()=>{e.value=Vo(e.value,s,r)}),t||(Nt(e,"compositionstart",Va),Nt(e,"compositionend",Uo),Nt(e,"change",Uo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:o,number:r}},i){if(e[bn]=Ho(i),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ln(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||o&&e.value.trim()===c)||(e.value=c))}},Ka=["ctrl","shift","alt","meta"],Wa={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ka.some(s=>e[`${s}Key`]&&!t.includes(s))},as=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(o,...r)=>{for(let i=0;i<t.length;i++){const a=Wa[t[i]];if(a&&a(o,t))return}return e(o,...r)})},za=ke({patchProp:Ha},_a);let Ko;function Ya(){return Ko||(Ko=Ql(za))}const Xa=(...e)=>{const t=Ya().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=qa(n);if(!o)return;const r=t._component;!se(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,Ga(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Ga(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function qa(e){return ye(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let hi;const nn=e=>hi=e,gi=Symbol();function En(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var cs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(cs||(cs={}));function Ja(){const e=lr(!0),t=e.run(()=>V({}));let s=[],n=[];const o=Kn({install(r){nn(o),o._a=r,r.provide(gi,o),r.config.globalProperties.$pinia=o,n.forEach(i=>s.push(i)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const mi=()=>{};function Wo(e,t,s,n=mi){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&ar()&&Ai(o),o}function Ft(e,...t){e.slice().forEach(s=>{s(...t)})}const Za=e=>e(),zo=Symbol(),vn=Symbol();function Pn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],o=e[s];En(o)&&En(n)&&e.hasOwnProperty(s)&&!xe(n)&&!at(n)?e[s]=Pn(o,n):e[s]=n}return e}const Qa=Symbol();function ec(e){return!En(e)||!e.hasOwnProperty(Qa)}const{assign:mt}=Object;function tc(e){return!!(xe(e)&&e.effect)}function sc(e,t,s,n){const{state:o,actions:r,getters:i}=t,a=s.state.value[e];let c;function f(){a||(s.state.value[e]=o?o():{});const u=tl(s.state.value[e]);return mt(u,r,Object.keys(i||{}).reduce((p,x)=>(p[x]=Kn(W(()=>{nn(s);const v=s._s.get(e);return i[x].call(v,v)})),p),{}))}return c=bi(e,f,t,s,n,!0),c}function bi(e,t,s={},n,o,r){let i;const a=mt({actions:{}},s),c={deep:!0};let f,u,p=[],x=[],v;const w=n.state.value[e];!r&&!w&&(n.state.value[e]={});let k;function N(_){let m;f=u=!1,typeof _=="function"?(_(n.state.value[e]),m={type:cs.patchFunction,storeId:e,events:v}):(Pn(n.state.value[e],_),m={type:cs.patchObject,payload:_,storeId:e,events:v});const D=k=Symbol();Sr().then(()=>{k===D&&(f=!0)}),u=!0,Ft(p,m,n.state.value[e])}const B=r?function(){const{state:m}=s,D=m?m():{};this.$patch(I=>{mt(I,D)})}:mi;function z(){i.stop(),p=[],x=[],n._s.delete(e)}const Y=(_,m="")=>{if(zo in _)return _[vn]=m,_;const D=function(){nn(n);const I=Array.from(arguments),h=[],S=[];function H(J){h.push(J)}function ne(J){S.push(J)}Ft(x,{args:I,name:D[vn],store:y,after:H,onError:ne});let ee;try{ee=_.apply(this&&this.$id===e?this:y,I)}catch(J){throw Ft(S,J),J}return ee instanceof Promise?ee.then(J=>(Ft(h,J),J)).catch(J=>(Ft(S,J),Promise.reject(J))):(Ft(h,ee),ee)};return D[zo]=!0,D[vn]=m,D},R={_p:n,$id:e,$onAction:Wo.bind(null,x),$patch:N,$reset:B,$subscribe(_,m={}){const D=Wo(p,_,m.detached,()=>I()),I=i.run(()=>At(()=>n.state.value[e],h=>{(m.flush==="sync"?u:f)&&_({storeId:e,type:cs.direct,events:v},h)},mt({},c,m)));return D},$dispose:z},y=Xs(R);n._s.set(e,y);const $=(n._a&&n._a.runWithContext||Za)(()=>n._e.run(()=>(i=lr()).run(()=>t({action:Y}))));for(const _ in $){const m=$[_];if(xe(m)&&!tc(m)||at(m))r||(w&&ec(m)&&(xe(m)?m.value=w[_]:Pn(m,w[_])),n.state.value[e][_]=m);else if(typeof m=="function"){const D=Y(m,_);$[_]=D,a.actions[_]=m}}return mt(y,$),mt(ae(y),$),Object.defineProperty(y,"$state",{get:()=>n.state.value[e],set:_=>{N(m=>{mt(m,_)})}}),n._p.forEach(_=>{mt(y,i.run(()=>_({store:y,app:n._a,pinia:n,options:a})))}),w&&r&&s.hydrate&&s.hydrate(y.$state,w),f=!0,u=!0,y}/*! #__NO_SIDE_EFFECTS__ */function ys(e,t,s){let n,o;const r=typeof t=="function";typeof e=="string"?(n=e,o=r?s:t):(o=e,n=e.id);function i(a,c){const f=dl();return a=a||(f?ns(gi,null):null),a&&nn(a),a=hi,a._s.has(n)||(r?bi(n,t,o,a):sc(n,o,a)),a._s.get(n)}return i.$id=n,i}const kt=ys("user",()=>{const e=V(!0),t=V(null),s=V({name:"Guest",level:1,exp:0,next_exp:100,xp:0,total_hours:0,rank_name:"Beginner",avatar_url:"",role:"USER"}),n=W(()=>s.value.next_exp===0?100:Math.min(100,s.value.exp/s.value.next_exp*100)),o=W(()=>s.value.role==="ADMIN");return{loading:e,currentUserId:t,user:s,expPercentage:n,isAdmin:o,setUserId:c=>{t.value=c},fetchUserData:async c=>{try{const f=await fetch(`/api/user/${c}/status`);if(!f.ok)throw new Error("API Error");const u=await f.json();u.status==="ok"&&(s.value=u.data)}catch(f){console.error(f),s.value={name:"",level:12,exp:1450,next_exp:2e3,xp:500,total_hours:42.5,rank_name:"Rank C: ",avatar_url:"https://cdn-icons-png.flaticon.com/512/4333/4333609.png",role:"USER"}}},setLoading:c=>{e.value=c}}}),nc={poweron:"/static/assets/sounds/Power-on.mp3",click:"/static/assets/sounds/mouse_click.mp3",select1:"/static/assets/sounds/select1.mp3",select2:"/static/assets/sounds/select2.mp3",select3:"/static/assets/sounds/select3.mp3",levelup:"/static/assets/sounds/Correct5.mp3",attack:"/static/assets/sounds/select6.mp3",defeat:"/static/assets/sounds/error2.mp3",coin:"/static/assets/sounds/confirm1.mp3"},xn={},Zt=V(!1);function Kt(){return{playSound:s=>{if(Zt.value)return;const n=nc[s];if(!n){console.warn(`Sound '${s}' not found`);return}try{xn[s]||(xn[s]=new Audio(n));const o=xn[s];o.currentTime=0,o.play().catch(()=>{})}catch(o){console.error("Sound error:",o)}},toggleMute:()=>(Zt.value=!Zt.value,Zt.value),isMuted:Zt}}const _s=ys("study",()=>{const e=kt(),{playSound:t}=Kt(),s=V({}),n=V(!1),o=V(!1),r=V("00:00:00"),i=V(""),a=V("#000"),c=V(null),f=V(null),u=V("00:00:00"),p=V(!1),x=V(""),v=V(!1),w=V(""),k=async()=>{if(t("click"),p.value=!0,Object.keys(s.value).length===0)try{const m=await(await fetch("/api/study/subjects")).json();m.status==="ok"&&(s.value=m.data)}catch(_){console.error(_)}},N=async _=>{if(t("select1"),!e.currentUserId){alert(": ID");return}n.value=!0;try{const m=await fetch("/api/study/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.currentUserId,subject:_})});if(!m.ok)throw new Error(`Server Error (${m.status})`);const D=await m.json();D.status==="ok"?(i.value=_,a.value=s.value[_],c.value=new Date,B(),o.value=!0,p.value=!1):alert(": "+D.message)}catch(m){alert(": "+m.message),console.error(m)}finally{n.value=!1}},B=()=>{f.value&&clearInterval(f.value),f.value=setInterval(()=>{const m=new Date-c.value,D=Math.floor(m/36e5),I=Math.floor(m%36e5/6e4),h=Math.floor(m%6e4/1e3);u.value=(D>0?String(D).padStart(2,"0")+":":"")+String(I).padStart(2,"0")+":"+String(h).padStart(2,"0")},1e3)},z=()=>{w.value=x.value,v.value=!0},Y=async()=>{t("levelup"),v.value=!1;try{const _=await fetch("/api/study/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.currentUserId,memo:w.value})});if(!_.ok)throw new Error(`Server returned ${_.status}`);const m=await _.json();if(m.status==="ok")return alert(`
${m.minutes} `),$(),await e.fetchUserData(e.currentUserId),m.minutes;alert(": "+m.message)}catch(_){console.error(_),alert("")}return 0},R=async()=>{if(confirm(`
()`)){t("click");try{(await(await fetch("/api/study/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.currentUserId})})).json()).status==="ok"?(alert(""),$()):alert("")}catch{alert("")}}},y=async(_=!1)=>{if(t("click"),!confirm(`
()`))return!1;r.value=u.value;try{if((await(await fetch("/api/study/pause",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.currentUserId})})).json()).status==="ok")return n.value=!1,clearInterval(f.value),_&&window.liff&&liff.closeWindow(),!0;alert("")}catch{alert("")}return!1},b=async _=>{try{const D=await(await fetch(`/api/user/${_}/active_session`)).json();if(D.status==="ok"&&D.active){i.value=D.data.subject,a.value=s.value[D.data.subject]||"#000";const I=D.data.start_time.split(":"),h=new Date,S=new Date(h.getFullYear(),h.getMonth(),h.getDate(),Number(I[0]),Number(I[1]),Number(I[2]));return S>h&&S.setDate(S.getDate()-1),c.value=S,B(),o.value=!0,!0}}catch(m){console.error(m)}return o.value=!1,!1},$=()=>{n.value=!1,clearInterval(f.value),o.value=!1,x.value="",w.value="",u.value="00:00:00"};return{subjects:s,studying:n,inSession:o,lastSessionTime:r,currentSubject:i,currentSubjectColor:a,timerDisplay:u,showSubjectModal:p,studyMemo:x,showMemoConfirm:v,memoToSend:w,openSubjectModal:k,startStudy:N,openMemoConfirm:z,finishStudy:Y,cancelStudy:R,pauseStudy:y,checkActiveSession:b,resetSession:$}}),oc=ys("game",()=>{const{playSound:e}=Kt(),t=V({stage:1,areaName:"",currentHp:100,maxHp:100,enemyName:"",enemyIcon:"",isBoss:!1,dps:0,clickDamage:1,lastTick:Date.now()}),s=V([]),n=V(!1),o=V(null),r=V(0),i=W(()=>t.value.currentHp/t.value.maxHp*100),a=W(()=>{const k=Math.floor((t.value.stage-1)/10)+1,N=(t.value.stage-1)%10+1;return`${k}-${N}`}),c=[{name:"",icon:"",baseHp:100},{name:"",icon:"",baseHp:120},{name:"",icon:"",baseHp:150},{name:"",icon:"",baseHp:180},{name:"",icon:"",baseHp:220},{name:"",icon:"",baseHp:280},{name:"",icon:"",baseHp:350},{name:"",icon:"",baseHp:500}],f=()=>{o.value&&clearInterval(o.value),o.value=setInterval(()=>{t.value.dps>0&&p(t.value.dps/10)},100)},u=k=>{const N=k.target.getBoundingClientRect(),B=k.clientX-N.left,z=k.clientY-N.top;p(t.value.clickDamage,!0,B,z),e("click")},p=(k,N=!1,B=0,z=0)=>{if(t.value.currentHp-=k,n.value=!0,setTimeout(()=>n.value=!1,100),N||Math.random()<.3){const Y=r.value++,R=B||window.innerWidth/2+(Math.random()*100-50),y=z||window.innerHeight/2-100;s.value.push({id:Y,val:k,x:R,y,isCrit:N}),setTimeout(()=>{s.value=s.value.filter(b=>b.id!==Y)},800)}t.value.currentHp<=0&&x()},x=()=>{e("levelup"),t.value.stage++;const B=Math.floor(100*Math.pow(1.1,t.value.stage));t.value.maxHp=B,t.value.currentHp=B,t.value.isBoss=t.value.stage%10===0;const z=c[(t.value.stage-1)%c.length];t.value.enemyName=t.value.isBoss?"??? (BOSS)":z.name,t.value.enemyIcon=t.value.isBoss?"":z.icon,t.value.isBoss&&(t.value.maxHp*=5,t.value.currentHp=t.value.maxHp)},v=k=>{if(!k||k<=0)return;const N=Math.pow(1.1,t.value.stage),B=Math.floor(k*100*N);setTimeout(()=>{p(B,!0),alert(`
 ${w(B)} `)},500)},w=k=>k>=1e6?(k/1e6).toFixed(1)+"M":k>=1e3?(k/1e3).toFixed(1)+"k":Math.floor(k);return{gameState:t,dmgEffects:s,isHit:n,hpPercentage:i,stageDisplay:a,startBattleLoop:f,handleManualClick:u,dealDamage:p,applyStudyDamage:v,formatNumber:w}}),Qn=ys("shop",()=>{const e=kt(),{playSound:t}=Kt(),s=V([]),n=V(null),o=V(!1),r=V(!1),i=V(!1),a=async()=>{i.value=!0;try{const x=await(await fetch("/api/shop/items")).json();x.status==="ok"?s.value=x.data:alert("")}catch(p){console.error(p),alert("")}finally{i.value=!1}};return{shopItems:s,selectedItem:n,showBuyModal:o,showShopList:r,loading:i,fetchItems:a,openShopList:()=>{r.value=!0,s.value.length===0&&a()},openBuyModal:p=>{n.value=p,o.value=!0},confirmBuy:async p=>{if(n.value){if((e.user.xp||0)<n.value.cost){alert("XP");return}t("select3");try{const v=await(await fetch("/api/shop/buy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.currentUserId,item_key:n.value.key,comment:p})})).json();v.status==="ok"?(alert(`
`),o.value=!1,await e.fetchUserData(e.currentUserId)):alert(": "+v.message)}catch{alert("")}}}}}),Ts=[{id:"study_desk",name:"",description:"",baseCost:10,baseMultiplier:.1,unlockCondition:0,tier:1,icon:""},{id:"bookshelf",name:"",description:"",baseCost:50,baseMultiplier:.3,unlockCondition:30,tier:1,icon:""},{id:"pc_setup",name:"PC",description:"",baseCost:150,baseMultiplier:.8,unlockCondition:100,tier:1,icon:""},{id:"lab",name:"",description:"",baseCost:500,baseMultiplier:2,unlockCondition:300,tier:2,icon:""},{id:"library",name:"",description:"",baseCost:1500,baseMultiplier:5,unlockCondition:800,tier:2,icon:""},{id:"ai_assistant",name:"AI",description:"",baseCost:4e3,baseMultiplier:12,unlockCondition:2e3,tier:2,icon:""},{id:"satellite",name:"",description:"",baseCost:1e4,baseMultiplier:30,unlockCondition:5e3,tier:3,icon:""},{id:"space_center",name:"",description:"JAXA",baseCost:3e4,baseMultiplier:80,unlockCondition:15e3,tier:3,icon:""},{id:"orbital_lab",name:"",description:"",baseCost:8e4,baseMultiplier:200,unlockCondition:4e4,tier:3,icon:""},{id:"moon_base",name:"",description:"",baseCost:2e5,baseMultiplier:500,unlockCondition:1e5,tier:4,icon:""},{id:"mars_colony",name:"",description:"",baseCost:6e5,baseMultiplier:1500,unlockCondition:35e4,tier:4,icon:""},{id:"asteroid_mining",name:"",description:"",baseCost:15e5,baseMultiplier:4e3,unlockCondition:8e5,tier:4,icon:""},{id:"dyson_sphere",name:"",description:"",baseCost:5e6,baseMultiplier:12e3,unlockCondition:25e5,tier:5,icon:""},{id:"warp_drive",name:"",description:"",baseCost:15e6,baseMultiplier:35e3,unlockCondition:8e6,tier:5,icon:""},{id:"galactic_council",name:"",description:"",baseCost:5e7,baseMultiplier:1e5,unlockCondition:25e6,tier:5,icon:""},{id:"singularity",name:"",description:"",baseCost:2e8,baseMultiplier:5e5,unlockCondition:1e8,tier:6,icon:""}],Yo={1:{name:"",color:"from-slate-400 to-slate-600",bgColor:"bg-slate-100"},2:{name:"",color:"from-blue-400 to-blue-600",bgColor:"bg-blue-50"},3:{name:"",color:"from-purple-400 to-purple-600",bgColor:"bg-purple-50"},4:{name:"",color:"from-orange-400 to-red-500",bgColor:"bg-orange-50"},5:{name:"",color:"from-pink-400 to-purple-600",bgColor:"bg-pink-50"},6:{name:"",color:"from-yellow-400 to-amber-500",bgColor:"bg-amber-50"}},Wt=ys("evolution",()=>{const e=kt(),t=V(0),s=V(0),n=V({}),o=V(null),r=V(!1),i=W(()=>{let y=1;for(const b of Ts){const $=n.value[b.id]||0;$>0&&(y+=b.baseMultiplier*$)}return y}),a=W(()=>Ts.map(y=>{const b=n.value[y.id]||0,$=p(y.baseCost,b),_=y.baseMultiplier*(b||1);let m="locked";return s.value>=y.unlockCondition?m="unlocked":s.value>=y.unlockCondition*.5?m="revealed":s.value>=y.unlockCondition*.2&&(m="hint"),{...y,level:b,currentCost:$,production:_,state:m,canAfford:t.value>=$&&m==="unlocked",progressToUnlock:Math.min(100,s.value/y.unlockCondition*100)}})),c=W(()=>{const y={};for(const b of a.value)y[b.tier]||(y[b.tier]={...Yo[b.tier],tier:b.tier,facilities:[]}),y[b.tier].facilities.push(b);return Object.values(y).sort((b,$)=>b.tier-$.tier)}),f=W(()=>a.value.find(y=>y.state!=="unlocked")),u=W(()=>{const y=Object.values(n.value).reduce(($,_)=>$+_,0),b=a.value.filter($=>$.state==="unlocked").length;return{totalOwned:y,unlockedCount:b,totalFacilities:Ts.length,multiplier:i.value}});function p(y,b){return Math.floor(y*Math.pow(1.15,b))}function x(y){const b=Ts.find(m=>m.id===y);if(!b)return!1;const $=n.value[y]||0,_=p(b.baseCost,$);return t.value>=_&&s.value>=b.unlockCondition?(t.value-=_,n.value[y]=$+1,r.value=!0,w(),!0):!1}function v(y){if(y<=0)return 0;const b=Math.floor(y*i.value);return t.value+=b,s.value+=b,r.value=!0,w(),b}function w(){const y=e.currentUserId||"guest",b={knowledgePoints:t.value,totalEarnedPoints:s.value,facilityLevels:n.value,lastSave:Date.now()};localStorage.setItem(`evolution_${y}`,JSON.stringify(b))}function k(){const y=e.currentUserId||"guest",b=localStorage.getItem(`evolution_${y}`);if(b)try{const $=JSON.parse(b);return t.value=$.knowledgePoints||0,s.value=$.totalEarnedPoints||0,n.value=$.facilityLevels||{},!0}catch($){console.error("Failed to load evolution data:",$)}return!1}async function N(){if(!r.value)return;const y=e.currentUserId;if(y)try{(await fetch("/api/game/evolution/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:y,knowledge_points:t.value,total_earned:s.value,facility_levels:n.value})})).ok&&(r.value=!1,o.value=Date.now())}catch(b){console.error("Sync failed:",b)}}async function B(){const y=e.currentUserId;if(!y)return!1;try{const b=await fetch(`/api/game/evolution/${y}`);if(!b.ok)return!1;const $=await b.json();if($.status==="ok"&&$.data)return t.value=$.data.knowledge_points||0,s.value=$.data.total_earned||0,n.value=$.data.facility_levels||{},w(),!0}catch(b){console.error("Load from server failed:",b)}return!1}async function z(){const y=k();await B()?w():y||(t.value=0,s.value=0,n.value={})}function Y(y){t.value+=y,s.value+=y,r.value=!0,w()}function R(y){y<=0||(t.value+=y,s.value+=y,r.value=!0)}return{knowledgePoints:t,totalEarnedPoints:s,facilityLevels:n,lastSyncTime:o,isDirty:r,totalMultiplier:i,facilitiesWithState:a,facilitiesByTier:c,nextUnlock:f,stats:u,buyFacility:x,earnFromStudy:v,syncToServer:N,loadFromServer:B,initialize:z,saveToLocalStorage:w,debugAddPoints:Y,addPoints:R,TIER_INFO:Yo}}),rc="2008998497-Vfli3v7u",Xo=V(!1),Go=V(null);function ic(){const e=kt(),t=_s(),s=async()=>{try{if(typeof liff>"u")throw new Error("LIFF SDK not loaded");if(await liff.init({liffId:rc}),Xo.value=!0,!liff.isLoggedIn()){liff.login();return}const i=(await liff.getProfile()).userId;e.setUserId(i),await e.fetchUserData(i),await t.checkActiveSession(i),e.setLoading(!1)}catch(r){if(console.error("LIFF init error:",r),Go.value=r.message,window.location.hostname==="localhost"){console.warn("Using development mock data");const i="dev_user_123";e.setUserId(i),await e.fetchUserData(i),e.setLoading(!1)}}},n=()=>{typeof liff<"u"&&liff.isInClient()&&liff.closeWindow()},o=W(()=>typeof liff<"u"&&liff.isInClient());return{initLiff:s,closeWindow:n,isInitialized:Xo,liffError:Go,isInApp:o}}const lc={class:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center"},ac={class:"text-center"},cc={class:"mt-4 text-white font-medium"},uc={__name:"LoadingSpinner",props:{message:{type:String,default:"..."}},setup(e){return(t,s)=>(C(),j("div",lc,[l("div",ac,[s[0]||(s[0]=l("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-white/30 border-t-white mx-auto"},null,-1)),l("p",cc,M(e.message),1)])]))}},fc={class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-white/80 backdrop-blur-lg rounded-full shadow-lg px-6 py-3 z-40 w-[90%] max-w-sm"},dc={class:"flex justify-between items-center px-4"},pc=["onClick","disabled"],hc={class:"text-xl"},gc={class:"text-xs mt-1"},mc={__name:"BottomNav",props:{modelValue:{type:String,required:!0},inSession:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=t,n=[{id:"data",icon:"",label:""},{id:"study",icon:"",label:""},{id:"game",icon:"",label:""}];return(o,r)=>(C(),j("nav",fc,[l("div",dc,[(C(),j(re,null,ve(n,i=>l("button",{key:i.id,onClick:a=>s("update:modelValue",i.id),class:oe(["flex flex-col items-center transition-transform",e.modelValue===i.id?"text-indigo-600 scale-110":"text-gray-400"]),disabled:i.id!=="study"&&e.inSession},[l("span",hc,M(i.icon),1),l("span",gc,M(i.label),1)],10,pc)),64))])]))}},bc={__name:"FloatingButton",props:{inSession:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const s=t;return(n,o)=>(C(),j("button",{onClick:o[0]||(o[0]=r=>s("click")),class:"fixed bottom-24 right-6 w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full shadow-xl flex items-center justify-center text-3xl z-30 transition-transform hover:scale-110 active:scale-95"},[l("span",{class:oe(e.inSession?"animate-pulse":"")},M(e.inSession?"":""),3)]))}},He={__name:"GlassPanel",props:{variant:{type:String,default:"glass"},customClass:{type:String,default:""}},setup(e){return(t,s)=>(C(),j("div",{class:oe(["rounded-2xl p-4 shadow-lg backdrop-blur-lg",[e.variant==="glass"?"bg-white/70":"bg-white",e.customClass]])},[Al(t.$slots,"default")],2))}},vc={class:"space-y-6"},xc={class:"flex items-center gap-4"},yc=["src"],_c={class:"text-left flex-1"},wc={class:"font-bold text-lg text-gray-800"},kc={class:"text-sm text-gray-500"},$c={class:"mt-2"},Sc={class:"flex justify-between text-xs text-gray-600 mb-1"},Cc={class:"h-2 bg-gray-200 rounded-full overflow-hidden"},Tc={class:"grid grid-cols-2 gap-4"},Mc={class:"text-3xl font-bold text-indigo-600"},jc={class:"text-3xl font-bold text-amber-500"},Ic={class:"flex items-center justify-between"},Ac={class:"text-sm text-gray-600"},Ec={class:"flex items-center gap-3"},Pc={class:"flex-1 h-3 bg-gray-200 rounded-full overflow-hidden"},Dc={class:"text-sm font-medium text-gray-600"},Oc="https://cdn-icons-png.flaticon.com/512/4333/4333609.png",Fc={__name:"StudyView",emits:["timer"],setup(e,{emit:t}){const s=kt(),n=_s(),o=Qn(),{playSound:r}=Kt(),i=t,a=W(()=>Math.min(60,Math.floor(Math.random()*60))),c=W(()=>a.value/60*100),f=()=>{r("select1"),o.openShopList()},u=()=>{r("select2"),alert(`
`)};return(p,x)=>(C(),j("div",vc,[ie(He,{class:"text-center"},{default:Te(()=>[l("div",xc,[l("img",{src:X(s).user.avatar_url||Oc,class:"w-16 h-16 rounded-full border-2 border-indigo-300",alt:"avatar"},null,8,yc),l("div",_c,[l("h2",wc,M(X(s).user.name),1),l("p",kc,M(X(s).user.rank_name),1),l("div",$c,[l("div",Sc,[l("span",null,"Lv."+M(X(s).user.level),1),l("span",null,M(X(s).user.exp)+" / "+M(X(s).user.next_exp)+" XP",1)]),l("div",Cc,[l("div",{class:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500",style:ce({width:X(s).expPercentage+"%"})},null,4)])])])])]),_:1}),l("div",Tc,[ie(He,{class:"text-center"},{default:Te(()=>{var v;return[l("p",Mc,M(((v=X(s).user.total_hours)==null?void 0:v.toFixed(1))||"0"),1),x[1]||(x[1]=l("p",{class:"text-sm text-gray-500"},"",-1))]}),_:1}),ie(He,{class:"text-center"},{default:Te(()=>[l("p",jc,M(X(s).user.xp||0),1),x[2]||(x[2]=l("p",{class:"text-sm text-gray-500"}," XP",-1))]),_:1})]),X(n).inSession?(C(),be(He,{key:0,class:"border-2 border-amber-300 animate-pulse"},{default:Te(()=>[l("div",Ic,[l("div",null,[x[3]||(x[3]=l("p",{class:"text-amber-600 font-bold"}," ",-1)),l("p",Ac,M(X(n).currentSubject)+" - "+M(X(n).lastSessionTime),1)]),l("button",{onClick:x[0]||(x[0]=v=>i("timer")),class:"bg-amber-500 text-white px-4 py-2 rounded-lg font-bold"},"  ")])]),_:1})):de("",!0),ie(He,null,{default:Te(()=>[x[4]||(x[4]=l("h3",{class:"font-bold text-gray-700 mb-2"}," ",-1)),l("div",Ec,[l("div",Pc,[l("div",{class:"h-full bg-gradient-to-r from-green-400 to-emerald-500",style:ce({width:c.value+"%"})},null,4)]),l("span",Dc,M(a.value)+"/60",1)])]),_:1}),l("div",{class:"grid grid-cols-2 gap-4"},[l("button",{onClick:f,class:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg flex flex-col items-center justify-center gap-2 transition-transform active:scale-95 border-b-4 border-amber-200"},[...x[5]||(x[5]=[l("span",{class:"text-4xl"},"",-1),l("span",{class:"font-bold text-gray-700"},"",-1)])]),l("button",{onClick:u,class:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg flex flex-col items-center justify-center gap-2 transition-transform active:scale-95 border-b-4 border-purple-200"},[...x[6]||(x[6]=[l("span",{class:"text-4xl"},"",-1),l("span",{class:"font-bold text-gray-700"},"",-1),l("span",{class:"text-xs text-red-500 font-bold bg-red-100 px-2 py-0.5 rounded-full"},"",-1)])])])]))}},Lc={class:"space-y-6 mt-8"},Nc={class:"text-6xl font-mono font-bold text-indigo-700 tracking-wider"},Rc={class:"mt-2 text-gray-600"},Bc={class:"flex justify-center gap-4"},Hc={__name:"TimerView",emits:["back"],setup(e,{emit:t}){const s=_s(),n=t,o=()=>{s.openMemoConfirm()},r=async()=>{await s.pauseStudy()&&n("back")},i=async()=>{await s.cancelStudy(),n("back")};return(a,c)=>(C(),j("div",Lc,[ie(He,{class:"text-center py-8"},{default:Te(()=>[l("p",Nc,M(X(s).timerDisplay),1),l("p",Rc,[l("span",{class:"inline-block px-3 py-1 rounded-full text-sm font-medium text-white",style:ce({backgroundColor:X(s).currentSubjectColor})},M(X(s).currentSubject),5)])]),_:1}),ie(He,null,{default:Te(()=>[c[2]||(c[2]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"   ",-1)),Ir(l("textarea",{"onUpdate:modelValue":c[0]||(c[0]=f=>X(s).studyMemo=f),class:"w-full h-24 p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"..."},null,512),[[pi,X(s).studyMemo]])]),_:1}),l("div",{class:"grid grid-cols-2 gap-4"},[l("button",{onClick:o,class:"bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all active:scale-95"},"   "),l("button",{onClick:r,class:"bg-gradient-to-r from-amber-500 to-orange-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all active:scale-95"},"   ")]),l("div",Bc,[l("button",{onClick:i,class:"text-red-500 underline text-sm"},"  "),l("button",{onClick:c[1]||(c[1]=f=>n("back")),class:"text-gray-500 underline text-sm"},"  ")])]))}},Uc={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center px-6"},Vc={class:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-fadeInUp"},Kc={class:"p-4 max-h-80 overflow-y-auto"},Wc={class:"grid grid-cols-2 gap-3"},zc=["onClick","disabled"],Yc={key:0,class:"text-center py-8"},Xc={class:"p-4 border-t"},Gc={__name:"SubjectModal",emits:["close","start"],setup(e,{emit:t}){const s=_s(),n=t,o=r=>{n("start",r)};return(r,i)=>(C(),be(Js,{to:"body"},[l("div",Uc,[l("div",Vc,[i[2]||(i[2]=l("div",{class:"bg-gradient-to-r from-indigo-500 to-purple-600 p-4"},[l("h3",{class:"text-white font-bold text-lg text-center"}," ")],-1)),l("div",Kc,[l("div",Wc,[(C(!0),j(re,null,ve(X(s).subjects,(a,c)=>(C(),j("button",{key:c,onClick:f=>o(c),disabled:X(s).studying,class:"p-4 rounded-xl border-2 font-medium text-center transition-all hover:scale-105 active:scale-95 disabled:opacity-50",style:ce({borderColor:a,backgroundColor:a+"20",color:a})},M(c),13,zc))),128))]),Object.keys(X(s).subjects).length===0?(C(),j("div",Yc,[...i[1]||(i[1]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-4 border-indigo-300 border-t-indigo-600 mx-auto"},null,-1),l("p",{class:"mt-2 text-gray-500"},"...",-1)])])):de("",!0)]),l("div",Xc,[l("button",{onClick:i[0]||(i[0]=a=>n("close")),class:"w-full py-3 text-gray-600 font-medium"},"  ")])])])]))}},qc={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center px-6"},Jc={class:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-fadeInUp"},Zc={class:"p-6"},Qc={class:"bg-gray-50 rounded-xl p-4 min-h-[100px]"},eu={class:"text-gray-700 whitespace-pre-wrap"},tu={__name:"MemoConfirmDialog",props:{memo:{type:String,default:""}},emits:["confirm","cancel"],setup(e,{emit:t}){const s=t,{playSound:n}=Kt(),o=()=>{n("select2"),s("confirm")},r=()=>{n("click"),s("cancel")};return(i,a)=>(C(),be(Js,{to:"body"},[l("div",qc,[l("div",Jc,[a[1]||(a[1]=l("div",{class:"bg-gradient-to-r from-green-500 to-emerald-600 p-4"},[l("h3",{class:"text-white font-bold text-lg text-center"}," ")],-1)),l("div",Zc,[l("div",Qc,[l("p",eu,M(e.memo||"()"),1)]),a[0]||(a[0]=l("p",{class:"text-center text-gray-500 text-sm mt-4"},"  ",-1))]),l("div",{class:"p-4 border-t flex gap-3"},[l("button",{onClick:r,class:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors hover:bg-gray-300 active:bg-gray-400"},"  "),l("button",{onClick:o,class:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-bold transition-transform hover:scale-105 active:scale-95"},"  ")])])])]))}},Ye=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},su={__name:"AnimatedCounter",props:{value:{type:Number,default:0},duration:{type:Number,default:500}},setup(e){const t=e,s=V("0"),n=V(!1);let o=null;const r=c=>c>=1e9?(c/1e9).toFixed(2)+"B":c>=1e6?(c/1e6).toFixed(2)+"M":c>=1e3?(c/1e3).toFixed(1)+"K":Math.floor(c).toLocaleString(),i=(c,f,u)=>{o&&cancelAnimationFrame(o);const p=performance.now(),x=f-c;x>0&&(n.value=!0,setTimeout(()=>n.value=!1,u+200));const v=w=>{const k=w-p,N=Math.min(k/u,1),B=1-Math.pow(2,-10*N),z=c+x*B;s.value=r(z),N<1&&(o=requestAnimationFrame(v))};o=requestAnimationFrame(v)};let a=0;return At(()=>t.value,(c,f)=>{const u=f||a||0;a=c,i(u,c,t.duration)},{immediate:!0}),tt(()=>{s.value=r(t.value)}),(c,f)=>(C(),j("span",{class:oe(["odometer",{"text-glow":n.value}])},M(s.value),3))}},eo=Ye(su,[["__scopeId","data-v-eb50a094"]]),nu={class:"particle-inner"},ou={__name:"KPParticlesAdvanced",props:{icon:{type:String,default:""}},setup(e,{expose:t}){const s=e,n=V(null),o=V([]);let r=0;return t({emit:(a={})=>{const{count:c=5,startX:f=null,startY:u=null,targetX:p=null,targetY:x=null}=a,v=n.value;if(!v)return;const w=v.getBoundingClientRect(),k=f??w.width/2,N=u??w.height/2,B=p??w.width/2,z=x??0;for(let Y=0;Y<c;Y++){const R=r++,y=Math.PI*2*Y/c+Math.random()*.5,b=40+Math.random()*60,$=Y*40,_=k+(Math.random()-.5)*30,m=N+(Math.random()-.5)*30,D=_+Math.cos(y)*b,I=m+Math.sin(y)*b*.5-30,h=B,S=z,H={id:R,icon:s.icon,style:{left:`${_}px`,top:`${m}px`,"--mid-x":`${D-_}px`,"--mid-y":`${I-m}px`,"--end-x":`${h-_}px`,"--end-y":`${S-m}px`,"--delay":`${$}ms`,"--scale-start":.5+Math.random()*.3,"--rotation":`${Math.random()*360}deg`}};o.value.push(H),setTimeout(()=>{o.value=o.value.filter(ne=>ne.id!==R)},1200+$)}}}),(a,c)=>(C(),j("div",{class:"particle-system",ref_key:"containerRef",ref:n},[(C(!0),j(re,null,ve(o.value,f=>(C(),j("div",{key:f.id,class:"kp-particle",style:ce(f.style)},[l("span",nu,M(f.icon),1)],4))),128))],512))}},ru=Ye(ou,[["__scopeId","data-v-c5d908a6"]]),iu={class:"ambient-particles"},lu={__name:"SpaceBackground",props:{progress:{type:Number,default:0},parallaxOffset:{type:Object,default:()=>({x:0,y:0})}},setup(e){const t=e,s=W(()=>{const f=t.progress;return f<5e3?{background:"radial-gradient(ellipse at bottom, #1B2838 0%, #0a0e17 50%, #000005 100%)"}:f<5e4?{background:"radial-gradient(ellipse at bottom, #1a1a3e 0%, #0d0d24 50%, #050510 100%)"}:f<5e5?{background:"radial-gradient(ellipse at bottom, #2a1810 0%, #150a08 50%, #0a0505 100%)"}:{background:"radial-gradient(ellipse at bottom, #1a0a2e 0%, #0a0518 50%, #020108 100%)"}}),n=W(()=>{const f=t.progress;return f<5e3?"nebula-blue":f<5e4?"nebula-purple":f<5e5?"nebula-orange":"nebula-cosmic"}),o=V([]);let r=0,i=null;const a=()=>{const f=r++,u={id:f,style:{left:`${Math.random()*100}%`,top:`${Math.random()*50}%`,"--angle":`${-30+Math.random()*20}deg`,"--duration":`${.5+Math.random()*.5}s`,animationDelay:"0s"}};o.value.push(u),setTimeout(()=>{o.value=o.value.filter(p=>p.id!==f)},1500)},c=f=>({"--delay":`${Math.random()*20}s`,"--duration":`${15+Math.random()*15}s`,"--x-start":`${Math.random()*100}%`,"--y-start":`${Math.random()*100}%`,"--drift":`${(Math.random()-.5)*100}px`,opacity:.2+Math.random()*.3,width:`${1+Math.random()*2}px`,height:`${1+Math.random()*2}px`});return tt(()=>{i=setInterval(()=>{Math.random()>.7&&a()},3e3)}),zn(()=>{clearInterval(i)}),(f,u)=>(C(),j("div",{class:"space-background",style:ce(s.value)},[l("div",{class:"star-layer star-layer-1",style:ce({transform:`translate(${e.parallaxOffset.x*.1}px, ${e.parallaxOffset.y*.1}px)`})},null,4),l("div",{class:"star-layer star-layer-2",style:ce({transform:`translate(${e.parallaxOffset.x*.3}px, ${e.parallaxOffset.y*.3}px)`})},null,4),l("div",{class:"star-layer star-layer-3",style:ce({transform:`translate(${e.parallaxOffset.x*.5}px, ${e.parallaxOffset.y*.5}px)`})},null,4),l("div",{class:oe(["nebula-overlay",n.value]),style:ce({transform:`translate(${e.parallaxOffset.x*.2}px, ${e.parallaxOffset.y*.2}px)`})},null,6),(C(!0),j(re,null,ve(o.value,p=>(C(),j("div",{key:p.id,class:"shooting-star",style:ce(p.style)},null,4))),128)),l("div",iu,[(C(),j(re,null,ve(30,p=>l("div",{key:p,class:"dust-particle",style:ce(c())},null,4)),64))])],4))}},vi=Ye(lu,[["__scopeId","data-v-69227696"]]),au={class:"stage-icon"},cu={class:"stage-name"},uu={key:0,class:"orbiting-elements"},fu={__name:"EvolutionStage",props:{totalKP:{type:Number,default:0},isActive:{type:Boolean,default:!1}},setup(e){const t=e,s=[{tier:1,minKP:0,name:"",emoji:"",description:""},{tier:2,minKP:5e3,name:"",emoji:"",description:""},{tier:3,minKP:5e4,name:"",emoji:"",description:""},{tier:4,minKP:2e5,name:"",emoji:"",description:""},{tier:5,minKP:1e6,name:"",emoji:"",description:""},{tier:6,minKP:1e7,name:"",emoji:"",description:""}],n=W(()=>{const f=t.totalKP;let u=s[0];for(const p of s)f>=p.minKP&&(u=p);return u}),o=W(()=>`stage-tier-${n.value.tier}`),r=W(()=>{const f=n.value.tier;return{1:"glow-blue",2:"glow-cyan",3:"glow-silver",4:"glow-orange",5:"glow-purple",6:"glow-gold"}[f]||"glow-blue"}),i=W(()=>{const f=n.value.tier;return f<3?0:f===3?1:f===4?2:f===5?3:5}),a=W(()=>{const f=n.value.tier;return{3:"",4:"",5:"",6:""}[f]||""}),c=f=>{const u=360/i.value*f,p=10+f*2;return{"--orbit-angle":`${u}deg`,"--orbit-duration":`${p}s`,animationDelay:`${f*-2}s`}};return(f,u)=>(C(),j("div",{class:oe(["evolution-stage relative",{active:e.isActive}])},[l("div",{class:oe(["glow-ring",r.value])},null,2),l("div",{class:oe(["stage-visual",o.value])},[l("div",au,M(n.value.emoji),1),l("div",cu,M(n.value.name),1),n.value.tier>=3?(C(),j("div",uu,[(C(!0),j(re,null,ve(i.value,p=>(C(),j("div",{key:p,class:"orbit-item",style:ce(c(p))},M(a.value),5))),128))])):de("",!0)],2),u[0]||(u[0]=l("div",{class:"tap-indicator"},[l("span",{class:"tap-text"},""),l("div",{class:"tap-arrow"},"")],-1))],2))}},du=Ye(fu,[["__scopeId","data-v-3e9938dd"]]),pu={class:"flex justify-between items-start p-4 gap-2"},hu={class:"flex items-center gap-3"},gu={class:"bg-black/50 backdrop-blur-xl rounded-2xl px-4 py-3 border border-white/20 shadow-lg"},mu={class:"flex items-center gap-2"},bu={class:"text-right"},vu={class:"text-xl font-bold text-cyan-300 tabular-nums"},xu={class:"px-4"},yu={class:"bg-black/40 backdrop-blur-lg rounded-full px-4 py-2 inline-flex items-center gap-2"},_u={class:"text-sm text-amber-300 font-bold tabular-nums"},wu={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},ku={class:"absolute bottom-28 left-4 right-4 z-20"},$u={key:0,class:"bg-black/50 backdrop-blur-xl rounded-2xl p-4 border border-white/20 shadow-lg"},Su={class:"flex justify-between text-xs text-white/80 mb-2"},Cu={class:"flex items-center gap-1.5"},Tu={class:"text-cyan-300 font-bold"},Mu={class:"text-yellow-300 font-bold tabular-nums"},ju={class:"h-4 bg-white/10 rounded-full overflow-hidden relative"},Iu={class:"absolute bottom-4 left-4 right-4 z-20 ios-safe-bottom"},Au={class:"flex gap-3 justify-center"},Eu={class:"unlock-celebration text-center px-8"},Pu={class:"text-7xl mb-6 animate-bounce-in"},Du={class:"text-2xl text-yellow-300 font-bold"},Ou={class:"text-sm text-white/70 mt-3 leading-relaxed"},Fu={class:"confetti-container"},Lu={__name:"MainGameView",emits:["navigate"],setup(e,{emit:t}){const s=Wt(),n=kt(),o=V(null),r=V(null),i=V(!1),a=V(!1),c=V(!1),f=V([]),u=V({x:0,y:0}),p=V(!1),x=V(null);let v=0;const w=W(()=>{var _;const $=((_=s.nextUnlock)==null?void 0:_.progressToUnlock)||0;return $>=80?"bg-gradient-to-r from-yellow-400 via-amber-400 to-yellow-300 animate-pulse-urgent":$>=50?"bg-gradient-to-r from-cyan-400 to-blue-400":"bg-gradient-to-r from-indigo-500 to-purple-500"}),k=$=>{const _=$.currentTarget.getBoundingClientRect(),m=$.clientX-_.left,D=$.clientY-_.top,I=v++;f.value.push({id:I,x:m,y:D}),setTimeout(()=>{f.value=f.value.filter(ee=>ee.id!==I)},600);const h=Math.max(1,Math.floor(s.totalMultiplier*.1)),S=B++;if(N.value.push({id:S,x:m,y:D,value:h}),setTimeout(()=>{N.value=N.value.filter(ee=>ee.id!==S)},1e3),c.value=!0,setTimeout(()=>c.value=!1,100),s.addPoints(h),o.value&&r.value){const ee=r.value.getBoundingClientRect();o.value.emit({count:Math.min(8,h),startX:m,startY:D,targetX:ee.left+60,targetY:ee.top+40})}const H=_.width/2,ne=_.height/2;u.value={x:(m-H)*.02,y:(D-ne)*.02}},N=V([]);let B=0;const z=$=>{},Y=$=>{if($.touches.length===1){const _=$.touches[0],m=$.currentTarget.getBoundingClientRect(),D=m.width/2,I=m.height/2;u.value={x:(_.clientX-m.left-D)*.015,y:(_.clientY-m.top-I)*.015}}};At(()=>s.knowledgePoints,($,_)=>{$>(_||0)&&(i.value=!0,setTimeout(()=>i.value=!1,500))});let R=[];At(()=>s.facilitiesWithState,$=>{const _=$.filter(D=>D.state==="unlocked").map(D=>D.id),m=_.filter(D=>!R.includes(D));if(m.length>0&&R.length>0){const D=$.find(I=>I.id===m[0]);D&&y(D)}R=_},{deep:!0});const y=$=>{a.value=!0,setTimeout(()=>a.value=!1,500),x.value=$,p.value=!0},b=$=>{const _=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"];return{"--delay":`${Math.random()*3}s`,"--x-end":`${(Math.random()-.5)*400}px`,"--rotation":`${Math.random()*720}deg`,left:`${Math.random()*100}%`,backgroundColor:_[$%_.length],animationDelay:`${Math.random()*.5}s`}};return tt(()=>{R=s.facilitiesWithState.filter($=>$.state==="unlocked").map($=>$.id)}),($,_)=>(C(),j("div",{class:"main-game-view relative min-h-[calc(100vh-180px)] overflow-hidden",onClick:k,onTouchstartPassive:z,onTouchmovePassive:Y},[ie(vi,{progress:X(s).totalEarnedPoints,parallaxOffset:u.value},null,8,["progress","parallaxOffset"]),ie(ru,{ref_key:"particleSystem",ref:o},null,512),l("div",{class:oe({"animate-shake":a.value})},[l("div",{class:"absolute top-0 left-0 right-0 z-30 ios-safe-top",ref_key:"kpTargetRef",ref:r},[l("div",pu,[l("div",{class:oe(["kp-display bg-black/50 backdrop-blur-xl rounded-2xl px-4 py-3 border border-white/20 shadow-lg flex-1",{"animate-glow-pulse":i.value}])},[l("div",hu,[_[5]||(_[5]=l("span",{class:"text-3xl"},"",-1)),l("div",null,[_[4]||(_[4]=l("p",{class:"text-[10px] text-white/70 font-medium uppercase tracking-wider"},"Knowledge",-1)),ie(eo,{value:X(s).knowledgePoints,class:"text-2xl font-bold text-yellow-300 tabular-nums",duration:300},null,8,["value"])])])],2),l("div",gu,[l("div",mu,[_[7]||(_[7]=l("span",{class:"text-2xl"},"",-1)),l("div",bu,[_[6]||(_[6]=l("p",{class:"text-[10px] text-white/70 font-medium uppercase tracking-wider"},"",-1)),l("p",vu,""+M(X(s).totalMultiplier.toFixed(1)),1)])])])]),l("div",xu,[l("div",yu,[_[8]||(_[8]=l("span",{class:"text-lg"},"",-1)),l("span",_u,M(X(n).user.xp||0),1),_[9]||(_[9]=l("span",{class:"text-[10px] text-white/50"},"XP",-1))])])],512),l("div",wu,[ie(du,{totalKP:X(s).totalEarnedPoints,isActive:c.value,class:"pointer-events-auto transform-gpu"},null,8,["totalKP","isActive"])]),(C(!0),j(re,null,ve(N.value,m=>(C(),j("div",{key:m.id,class:"floating-number",style:ce({left:m.x+"px",top:m.y+"px"})}," +"+M(m.value),5))),128)),(C(!0),j(re,null,ve(f.value,m=>(C(),j("div",{key:m.id,class:"tap-ripple",style:ce({left:m.x+"px",top:m.y+"px"})},null,4))),128)),l("div",ku,[X(s).nextUnlock?(C(),j("div",$u,[l("div",Su,[l("span",Cu,[_[10]||(_[10]=l("span",{class:"text-base"},"",-1)),_[11]||(_[11]=l("span",{class:"font-medium"},":",-1)),l("span",Tu,M(X(s).nextUnlock.state==="revealed"?X(s).nextUnlock.name:"???"),1)]),l("span",Mu,M(Math.floor(X(s).nextUnlock.progressToUnlock))+"%",1)]),l("div",ju,[l("div",{class:oe(["h-full transition-all duration-500 rounded-full relative",w.value]),style:ce({width:X(s).nextUnlock.progressToUnlock+"%"})},[..._[12]||(_[12]=[l("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer-fast"},null,-1)])],6)])])):de("",!0)]),l("div",Iu,[_[15]||(_[15]=l("p",{class:"text-[10px] text-white/50 text-center mb-3 uppercase tracking-widest"},"KP",-1)),l("div",Au,[l("button",{onClick:_[0]||(_[0]=as(m=>$.$emit("navigate","list"),["stop"])),class:"ios-nav-button"},[..._[13]||(_[13]=[l("span",{class:"text-2xl"},"",-1),l("span",{class:"text-[10px] font-medium"},"",-1)])]),l("button",{onClick:_[1]||(_[1]=as(m=>$.$emit("navigate","tree"),["stop"])),class:"ios-nav-button"},[..._[14]||(_[14]=[l("span",{class:"text-2xl"},"",-1),l("span",{class:"text-[10px] font-medium"},"",-1)])])])])],2),ie(Zn,{name:"celebrate"},{default:Te(()=>{var m,D,I;return[p.value?(C(),j("div",{key:0,class:"absolute inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md ios-safe-area",onClick:_[3]||(_[3]=h=>p.value=!1)},[l("div",Eu,[l("div",Pu,M((m=x.value)==null?void 0:m.icon),1),_[16]||(_[16]=l("h2",{class:"text-3xl font-bold text-white mb-2"}," ",-1)),l("p",Du,M((D=x.value)==null?void 0:D.name),1),l("p",Ou,M((I=x.value)==null?void 0:I.description),1),l("button",{onClick:_[2]||(_[2]=as(h=>p.value=!1,["stop"])),class:"mt-8 px-8 py-4 bg-gradient-to-r from-yellow-400 to-amber-500 text-black font-bold rounded-2xl text-lg shadow-lg active:scale-95 transition-transform"},"  ")]),l("div",Fu,[(C(),j(re,null,ve(50,h=>l("div",{key:h,class:"confetti",style:ce(b(h))},null,4)),64))])])):de("",!0)]}),_:1})],32))}},Nu=Ye(Lu,[["__scopeId","data-v-8b7c1237"]]),Ru={key:1,class:"p-4 flex items-center gap-4"},Bu={class:"relative w-16 h-16 shrink-0"},Hu={class:"w-full h-full transform -rotate-90",viewBox:"0 0 64 64"},Uu=["stroke-dashoffset"],Vu={class:"absolute inset-0 flex items-center justify-center"},Ku={class:"text-2xl filter grayscale blur-[2px] opacity-30"},Wu={class:"flex-1"},zu={class:"flex items-center gap-2 mt-2"},Yu={class:"text-xs text-gray-400"},Xu={key:2,class:"p-4 flex items-center gap-4"},Gu={class:"relative w-16 h-16 shrink-0"},qu={class:"w-full h-full transform -rotate-90",viewBox:"0 0 64 64"},Ju=["stroke","stroke-dashoffset"],Zu={class:"absolute inset-0 flex items-center justify-center"},Qu={class:"text-2xl filter blur-[1px] opacity-60"},ef={class:"absolute -bottom-1 -right-1 bg-gray-700 rounded-full px-1.5 py-0.5"},tf={class:"text-[10px] text-gray-300 font-bold"},sf={class:"flex-1"},nf={class:"mt-2 flex items-center gap-2 text-xs"},of={class:"text-gray-400"},rf={key:3,class:"p-4 flex items-center gap-4 relative overflow-hidden"},lf={class:"relative w-16 h-16 shrink-0"},af={class:"w-full h-full transform -rotate-90",viewBox:"0 0 64 64"},cf=["stroke-dashoffset"],uf={class:"absolute inset-0 flex items-center justify-center"},ff={class:"text-3xl animate-pulse"},df={class:"absolute -bottom-1 -right-1 bg-amber-500 rounded-full px-1.5 py-0.5"},pf={class:"text-[10px] text-black font-bold"},hf={class:"flex-1"},gf={class:"text-amber-300 font-bold"},mf={class:"text-xs text-amber-200/70 mt-1"},bf={class:"mt-2 flex items-center gap-2 text-xs"},vf={class:"text-amber-400 font-semibold"},xf={class:"p-4 flex items-center gap-4"},yf={class:"relative w-16 h-16 shrink-0"},_f={class:"flex-1 min-w-0"},wf={class:"flex items-center gap-2"},kf={class:"font-bold text-gray-800 truncate"},$f={class:"text-xs text-gray-500 mt-0.5 line-clamp-1"},Sf={class:"flex items-center gap-3 mt-2 text-xs"},Cf={class:"flex items-center gap-1 text-green-600"},Tf={class:"flex items-center gap-1 text-gray-500"},Mf=["disabled"],jf={key:0},If={key:1},Af={key:0,class:"px-4 pb-3"},Ef={class:"h-1 bg-gray-200 rounded-full overflow-hidden"},Pf={__name:"FacilityCardAdvanced",props:{facility:{type:Object,required:!0}},emits:["buy"],setup(e){const t=e,s=Wt(),n=W(()=>s.totalEarnedPoints),o=2*Math.PI*28,r={1:{color:"#64748b",gradient:"from-slate-400 to-slate-600",bg:"bg-slate-100",badge:"bg-slate-500"},2:{color:"#3b82f6",gradient:"from-blue-400 to-blue-600",bg:"bg-blue-100",badge:"bg-blue-500"},3:{color:"#8b5cf6",gradient:"from-purple-400 to-purple-600",bg:"bg-purple-100",badge:"bg-purple-500"},4:{color:"#f97316",gradient:"from-orange-400 to-red-500",bg:"bg-orange-100",badge:"bg-orange-500"},5:{color:"#ec4899",gradient:"from-pink-400 to-purple-600",bg:"bg-pink-100",badge:"bg-pink-500"},6:{color:"#f59e0b",gradient:"from-yellow-400 to-amber-500",bg:"bg-amber-100",badge:"bg-amber-500"}},i=W(()=>{var w;return((w=r[t.facility.tier])==null?void 0:w.color)||"#64748b"}),a=W(()=>{var w;return`bg-gradient-to-r ${((w=r[t.facility.tier])==null?void 0:w.gradient)||"from-gray-400 to-gray-600"}`}),c=W(()=>{var w;return((w=r[t.facility.tier])==null?void 0:w.bg)||"bg-gray-100"}),f=W(()=>{var w;return((w=r[t.facility.tier])==null?void 0:w.badge)||"bg-gray-500"}),u=W(()=>{switch(t.facility.state){case"unlocked":return t.facility.level>0?"bg-white shadow-md ring-2 ring-indigo-200":"bg-white shadow-md";case"revealed":return"bg-gradient-to-r from-amber-900/90 to-yellow-900/90 shadow-lg ring-2 ring-amber-400/50";case"hint":return"bg-gray-800/90 shadow-md";default:return"bg-gray-900/90 shadow-sm"}}),p=W(()=>t.facility.canAfford?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg hover:shadow-xl active:scale-95":"bg-gray-200 text-gray-400 cursor-not-allowed"),x=()=>{t.facility.state==="unlocked"&&t.facility.canAfford},v=w=>w>=1e9?(w/1e9).toFixed(2)+"B":w>=1e6?(w/1e6).toFixed(2)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":Math.floor(w).toLocaleString();return(w,k)=>(C(),j("div",{class:oe(["facility-card-advanced relative rounded-2xl overflow-hidden transition-all duration-300",u.value]),onClick:x},[e.facility.state==="unlocked"&&e.facility.level>0?(C(),j("div",{key:0,class:oe(["absolute inset-0 bg-gradient-to-br opacity-20",a.value])},null,2)):de("",!0),e.facility.state==="locked"?(C(),j("div",Ru,[l("div",Bu,[(C(),j("svg",Hu,[k[1]||(k[1]=l("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"rgba(255,255,255,0.1)","stroke-width":"4"},null,-1)),l("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"rgba(100,116,139,0.5)","stroke-width":"4","stroke-linecap":"round","stroke-dasharray":o,"stroke-dashoffset":o*(1-e.facility.progressToUnlock/100),class:"transition-all duration-500"},null,8,Uu)])),l("div",Vu,[l("span",Ku,M(e.facility.icon),1)])]),l("div",Wu,[k[3]||(k[3]=l("p",{class:"text-gray-400 font-semibold"},"???",-1)),k[4]||(k[4]=l("p",{class:"text-xs text-gray-500 mt-1"},"",-1)),l("div",zu,[k[2]||(k[2]=l("span",{class:"text-xs text-gray-500"},"",-1)),l("span",Yu,M(v(e.facility.unlockCondition))+" KP ",1)])])])):e.facility.state==="hint"?(C(),j("div",Xu,[l("div",Gu,[(C(),j("svg",qu,[k[5]||(k[5]=l("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"rgba(255,255,255,0.1)","stroke-width":"4"},null,-1)),l("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:i.value,"stroke-width":"4","stroke-linecap":"round","stroke-dasharray":o,"stroke-dashoffset":o*(1-e.facility.progressToUnlock/100),class:oe(["transition-all duration-500",{"animate-pulse-ring":e.facility.progressToUnlock>40}])},null,10,Ju)])),l("div",Zu,[l("span",Qu,M(e.facility.icon),1)]),l("div",ef,[l("span",tf,M(Math.floor(e.facility.progressToUnlock))+"%",1)])]),l("div",sf,[k[6]||(k[6]=l("p",{class:"text-gray-300 font-semibold"},"???",-1)),k[7]||(k[7]=l("p",{class:"text-xs text-gray-500 mt-1"},"...",-1)),l("div",nf,[l("span",of," "+M(v(e.facility.unlockCondition-n.value))+" KP",1)])])])):e.facility.state==="revealed"?(C(),j("div",rf,[k[10]||(k[10]=l("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-amber-400/10 to-transparent animate-shimmer-slow"},null,-1)),l("div",lf,[(C(),j("svg",af,[k[8]||(k[8]=l("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"rgba(251,191,36,0.2)","stroke-width":"4"},null,-1)),l("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"url(#gold-gradient)","stroke-width":"4","stroke-linecap":"round","stroke-dasharray":o,"stroke-dashoffset":o*(1-e.facility.progressToUnlock/100),class:"transition-all duration-500 animate-pulse-ring-gold"},null,8,cf),k[9]||(k[9]=l("defs",null,[l("linearGradient",{id:"gold-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[l("stop",{offset:"0%","stop-color":"#fbbf24"}),l("stop",{offset:"50%","stop-color":"#f59e0b"}),l("stop",{offset:"100%","stop-color":"#fbbf24"})])],-1))])),l("div",uf,[l("span",ff,M(e.facility.icon),1)]),l("div",df,[l("span",pf,M(Math.floor(e.facility.progressToUnlock))+"%",1)])]),l("div",hf,[l("p",gf,M(e.facility.name),1),l("p",mf,M(e.facility.description),1),l("div",bf,[l("span",vf,"   "+M(v(e.facility.unlockCondition-n.value))+" KP! ",1)])])])):(C(),j(re,{key:4},[l("div",xf,[l("div",yf,[l("div",{class:oe(["w-full h-full rounded-xl flex items-center justify-center text-3xl",c.value])},M(e.facility.icon),3),e.facility.level>0?(C(),j("div",{key:0,class:oe(["absolute -top-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white",f.value])},M(e.facility.level),3)):de("",!0)]),l("div",_f,[l("div",wf,[l("h3",kf,M(e.facility.name),1)]),l("p",$f,M(e.facility.description),1),l("div",Sf,[l("div",Cf,[k[11]||(k[11]=l("span",null,"",-1)),l("span",null,"+"+M(e.facility.production.toFixed(1))+"/",1)]),l("div",Tf,[k[12]||(k[12]=l("span",null,"",-1)),l("span",null,M(v(e.facility.currentCost))+" KP",1)])])]),l("button",{onClick:k[0]||(k[0]=as(N=>w.$emit("buy",e.facility.id),["stop"])),disabled:!e.facility.canAfford,class:oe(["px-5 py-4 rounded-2xl font-bold text-base transition-all shrink-0 min-w-[52px] min-h-[52px]",p.value])},[e.facility.level===0?(C(),j("span",jf,"")):(C(),j("span",If,""))],10,Mf)]),e.facility.level>0?(C(),j("div",Af,[l("div",Ef,[l("div",{class:oe(["h-full transition-all duration-300",a.value]),style:ce({width:e.facility.level%10*10+"%"})},null,6)])])):de("",!0)],64))],2))}},Df=Ye(Pf,[["__scopeId","data-v-9b0482d6"]]),Of=["width","height","viewBox"],Ff=["cx","cy","r","stroke-width"],Lf=["cx","cy","r","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],Nf={class:"absolute inset-0 flex items-center justify-center"},Rf={class:"text-xs font-bold text-white"},Bf={__name:"CircularProgress",props:{progress:{type:Number,default:0},size:{type:Number,default:40},strokeWidth:{type:Number,default:3},color:{type:String,default:"#3b82f6"}},setup(e){const t=e,s=W(()=>(t.size-t.strokeWidth)/2),n=W(()=>2*Math.PI*s.value),o=W(()=>n.value*(1-t.progress/100)),r=W(()=>({width:`${t.size}px`,height:`${t.size}px`,position:"relative"}));return(i,a)=>(C(),j("div",{class:"circular-progress",style:ce(r.value)},[(C(),j("svg",{width:e.size,height:e.size,viewBox:`0 0 ${e.size} ${e.size}`},[l("circle",{cx:e.size/2,cy:e.size/2,r:s.value,fill:"none",stroke:"rgba(255,255,255,0.1)","stroke-width":e.strokeWidth},null,8,Ff),l("circle",{cx:e.size/2,cy:e.size/2,r:s.value,fill:"none",stroke:e.color,"stroke-width":e.strokeWidth,"stroke-linecap":"round","stroke-dasharray":n.value,"stroke-dashoffset":o.value,class:"progress-ring transition-all duration-500",style:{transform:"rotate(-90deg)",transformOrigin:"center"}},null,8,Lf)],8,Of)),l("div",Nf,[l("span",Rf,M(Math.round(e.progress))+"%",1)])],4))}},Hf=Ye(Bf,[["__scopeId","data-v-7859314f"]]),Uf={class:"facility-list-view min-h-screen pb-32"},Vf={class:"sticky top-0 z-30 bg-slate-900/95 backdrop-blur-lg border-b border-white/10 ios-safe-top"},Kf={class:"p-4 flex items-center gap-3"},Wf={class:"flex-1"},zf={class:"text-xs text-white/60 mt-0.5"},Yf={class:"bg-white/15 rounded-2xl px-4 py-2.5 flex items-center gap-2 border border-white/10"},Xf={class:"px-4 pb-4 flex items-center gap-3"},Gf={class:"flex-1 bg-white/10 rounded-xl p-3 flex items-center justify-between"},qf={class:"text-xl font-bold text-cyan-300 tabular-nums"},Jf={class:"flex-1 bg-white/10 rounded-xl p-3 flex items-center justify-between"},Zf={class:"text-xl font-bold text-purple-300 tabular-nums"},Qf={class:"p-4 space-y-6"},ed={class:"flex items-center gap-3"},td={class:"flex-1"},sd={class:"font-bold text-white text-lg"},nd={class:"text-xs text-white/60"},od={class:"text-right"},rd={class:"space-y-3"},id={class:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-slate-900 via-slate-900/95 to-transparent ios-safe-bottom"},ld={class:"flex gap-3 max-w-md mx-auto"},ad={__name:"FacilityListView",emits:["navigate"],setup(e){const t=Wt(),s=W(()=>t.stats),n=a=>{t.buyFacility(a)},o=a=>({1:"bg-slate-700/80",2:"bg-blue-900/80",3:"bg-purple-900/80",4:"bg-orange-900/80",5:"bg-pink-900/80",6:"bg-amber-900/80"})[a]||"bg-slate-700/80",r=a=>({1:"#64748b",2:"#3b82f6",3:"#8b5cf6",4:"#f97316",5:"#ec4899",6:"#f59e0b"})[a]||"#64748b",i=a=>a.facilities.filter(f=>f.state==="unlocked").length/a.facilities.length*100;return(a,c)=>(C(),j("div",Uf,[c[9]||(c[9]=l("div",{class:"fixed inset-0 -z-10"},[l("div",{class:"absolute inset-0 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900"}),l("div",{class:"star-layer-subtle"})],-1)),l("div",Vf,[l("div",Kf,[l("button",{onClick:c[0]||(c[0]=f=>a.$emit("navigate","main")),class:"w-12 h-12 rounded-2xl bg-white/15 flex items-center justify-center text-white active:bg-white/30 active:scale-95 transition-all text-lg"},"  "),l("div",Wf,[c[3]||(c[3]=l("h1",{class:"text-xl font-bold text-white"},"",-1)),l("p",zf,M(s.value.unlockedCount)+"/"+M(s.value.totalFacilities)+" ",1)]),l("div",Yf,[c[4]||(c[4]=l("span",{class:"text-xl"},"",-1)),ie(eo,{value:X(t).knowledgePoints,class:"text-xl font-bold text-yellow-300 tabular-nums"},null,8,["value"])])]),l("div",Xf,[l("div",Gf,[c[5]||(c[5]=l("span",{class:"text-xs text-white/60"},"",-1)),l("span",qf,""+M(X(t).totalMultiplier.toFixed(1)),1)]),l("div",Jf,[c[6]||(c[6]=l("span",{class:"text-xs text-white/60"},"",-1)),l("span",Zf,M(s.value.totalOwned),1)])])]),l("div",Qf,[(C(!0),j(re,null,ve(X(t).facilitiesByTier,f=>(C(),j("div",{key:f.tier,class:"tier-section"},[l("div",{class:oe(["sticky top-[140px] z-20 -mx-2 px-4 py-3 rounded-2xl mb-4 backdrop-blur-md",o(f.tier)])},[l("div",ed,[l("div",{class:oe(["w-12 h-12 rounded-2xl bg-gradient-to-br flex items-center justify-center text-white font-bold shadow-lg text-lg",f.color])},M(f.tier),3),l("div",td,[l("p",sd,M(f.name),1),l("p",nd,M(f.facilities.filter(u=>u.state==="unlocked").length)+"/"+M(f.facilities.length)+"  ",1)]),l("div",od,[ie(Hf,{progress:i(f),size:44,color:r(f.tier)},null,8,["progress","color"])])])],2),l("div",rd,[(C(!0),j(re,null,ve(f.facilities,u=>(C(),be(Df,{key:u.id,facility:u,onBuy:n},null,8,["facility"]))),128))])]))),128))]),l("div",id,[l("div",ld,[l("button",{onClick:c[1]||(c[1]=f=>a.$emit("navigate","main")),class:"flex-1 py-4 bg-white/15 backdrop-blur-xl rounded-2xl text-white font-bold flex items-center justify-center gap-2 border border-white/20 active:bg-white/30 active:scale-95 transition-all text-base"},[...c[7]||(c[7]=[l("span",{class:"text-xl"},"",-1),l("span",null,"",-1)])]),l("button",{onClick:c[2]||(c[2]=f=>a.$emit("navigate","tree")),class:"flex-1 py-4 bg-white/15 backdrop-blur-xl rounded-2xl text-white font-bold flex items-center justify-center gap-2 border border-white/20 active:bg-white/30 active:scale-95 transition-all text-base"},[...c[8]||(c[8]=[l("span",{class:"text-xl"},"",-1),l("span",null,"",-1)])])])])]))}},cd=Ye(ad,[["__scopeId","data-v-f117aef9"]]),ud={key:1,class:"progress-ring",viewBox:"0 0 80 80"},fd=["stroke","stroke-dashoffset"],dd={class:"node-label"},pd={key:3,class:"unlock-indicator"},hd={__name:"TechNodeAdvanced",props:{node:{type:Object,required:!0}},emits:["select","buy"],setup(e){const t=e,s=2*Math.PI*36,n=W(()=>{const v="relative cursor-pointer transition-all duration-300";switch(t.node.state){case"unlocked":return`${v} hover:scale-110`;case"revealed":return`${v} hover:scale-105 animate-pulse-slow`;case"hint":return`${v} opacity-70`;default:return`${v} opacity-40`}}),o=W(()=>{const v="relative w-16 h-16 rounded-full flex items-center justify-center transition-all";switch(t.node.state){case"unlocked":return t.node.level>0?`${v} ${r.value} shadow-lg`:`${v} bg-slate-600 shadow-md`;case"revealed":return`${v} bg-amber-900/80 ring-2 ring-amber-400/50 shadow-lg`;case"hint":return`${v} bg-slate-800/80 backdrop-blur`;default:return`${v} bg-slate-900/80`}}),r=W(()=>{const v=t.node.tier;return{1:"bg-gradient-to-br from-slate-400 to-slate-600",2:"bg-gradient-to-br from-blue-400 to-blue-600",3:"bg-gradient-to-br from-purple-400 to-purple-600",4:"bg-gradient-to-br from-orange-400 to-red-500",5:"bg-gradient-to-br from-pink-400 to-purple-600",6:"bg-gradient-to-br from-yellow-400 to-amber-500"}[v]||"bg-gradient-to-br from-gray-400 to-gray-600"}),i=W(()=>{const v=t.node.tier;return{1:"glow-slate",2:"glow-blue",3:"glow-purple",4:"glow-orange",5:"glow-pink",6:"glow-gold"}[v]||"glow-slate"}),a=W(()=>{const v=t.node.tier;return{1:"bg-slate-500",2:"bg-blue-500",3:"bg-purple-500",4:"bg-orange-500",5:"bg-pink-500",6:"bg-amber-500"}[v]||"bg-gray-500"}),c=W(()=>{const v="text-2xl";switch(t.node.state){case"unlocked":return v;case"revealed":return`${v} animate-pulse`;case"hint":return`${v} filter blur-[2px] opacity-60`;default:return`${v} filter blur-[3px] grayscale opacity-30`}}),f=W(()=>{switch(t.node.state){case"unlocked":return"text-white font-semibold";case"revealed":return"text-amber-300 font-semibold";default:return"text-white/40"}}),u=W(()=>t.node.state==="revealed"?"#fbbf24":t.node.state==="hint"?"#64748b":"#374151"),p=W(()=>t.node.state==="locked"?"":t.node.icon),x=W(()=>t.node.state==="locked"||t.node.state==="hint"?"???":t.node.name);return(v,w)=>(C(),j("div",{class:oe(["tech-node",n.value]),onClick:w[0]||(w[0]=k=>v.$emit("select",e.node))},[e.node.state==="unlocked"&&e.node.level>0?(C(),j("div",{key:0,class:oe(["glow-ring",i.value])},null,2)):de("",!0),e.node.state!=="unlocked"?(C(),j("svg",ud,[w[1]||(w[1]=l("circle",{cx:"40",cy:"40",r:"36",fill:"none",stroke:"rgba(255,255,255,0.1)","stroke-width":"3"},null,-1)),l("circle",{cx:"40",cy:"40",r:"36",fill:"none",stroke:u.value,"stroke-width":"3","stroke-linecap":"round","stroke-dasharray":s,"stroke-dashoffset":s*(1-e.node.progressToUnlock/100),class:"progress-stroke"},null,8,fd)])):de("",!0),l("div",{class:oe(["node-body",o.value])},[l("span",{class:oe(["node-icon",c.value])},M(p.value),3)],2),e.node.state==="unlocked"&&e.node.level>0?(C(),j("div",{key:2,class:oe(["level-badge",a.value])},M(e.node.level),3)):de("",!0),l("div",dd,[l("span",{class:oe(f.value)},M(x.value),3)]),e.node.state==="revealed"?(C(),j("div",pd,"  ")):de("",!0)],2))}},gd=Ye(hd,[["__scopeId","data-v-a26387c6"]]),md={class:"tech-tree-advanced min-h-screen"},bd={class:"fixed inset-0 -z-10"},vd={class:"sticky top-0 z-30 bg-black/85 backdrop-blur-xl border-b border-white/10 ios-safe-top"},xd={class:"p-4 flex items-center gap-3"},yd={class:"bg-white/15 rounded-2xl px-4 py-2.5 flex items-center gap-2 border border-white/10"},_d={class:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"}},wd=["x1","y1","x2","y2","stroke","filter"],kd={key:0,class:"fixed bottom-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-xl rounded-t-3xl shadow-2xl border-t border-white/10 ios-safe-bottom",style:{padding:"20px 20px calc(env(safe-area-inset-bottom, 0px) + 20px) 20px"}},$d={class:"flex items-start gap-4"},Sd={class:"flex-1"},Cd={class:"text-xl font-bold text-white"},Td={class:"text-sm text-white/60 mt-1 leading-relaxed"},Md={class:"flex items-center gap-4 mt-3 text-sm flex-wrap"},jd={class:"text-yellow-300 font-medium"},Id={class:"text-green-400 font-medium"},Ad={class:"text-purple-300 font-medium"},Ed=["disabled"],Pd={key:1,class:"w-full mt-5 py-4 rounded-2xl bg-white/5 text-center text-white/50"},Dd={class:"mt-3 h-3 bg-white/10 rounded-full overflow-hidden mx-8"},Od={class:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black via-black/90 to-transparent z-30 ios-safe-bottom"},Fd={class:"flex gap-3 max-w-md mx-auto"},Ld={__name:"TechTreeViewAdvanced",emits:["navigate","buy"],setup(e,{emit:t}){const s=Wt(),n=t,o=V(null),r=V(.7),i=V(0),a=V(0),c=V(!1),f=V({x:0,y:0}),u=V(null),p=V({x:0,y:0}),x=W(()=>({x:200,y:100})),v=W(()=>({transform:`translate(${i.value}px, ${a.value}px) scale(${r.value})`,transformOrigin:"top left"})),w=W(()=>s.facilitiesWithState.map(ne=>{const ee=ne.tier-1,J=s.facilitiesWithState.filter(we=>we.tier===ne.tier),q=J.findIndex(we=>we.id===ne.id),_e=J.length,Re=(q-(_e-1)/2)*140;return{...ne,x:150+Re,y:80+ee*180}})),k=h=>({position:"absolute",left:`${h.x+x.value.x}px`,top:`${h.y+x.value.y}px`,transform:"translate(-50%, -50%)"}),N=W(()=>{const h=[],S={};w.value.forEach(ne=>{S[ne.tier]||(S[ne.tier]=[]),S[ne.tier].push(ne)});const H=Object.keys(S).map(Number).sort((ne,ee)=>ne-ee);for(let ne=0;ne<H.length-1;ne++){const ee=S[H[ne]],J=S[H[ne+1]];ee.forEach(q=>{J.forEach(_e=>{Math.abs(q.x-_e.x)<200&&h.push({id:`${q.id}-${_e.id}`,x1:q.x,y1:q.y,x2:_e.x,y2:_e.y,unlocked:q.state==="unlocked"&&q.level>0})})})}return h}),B=h=>{if(h.target.closest(".tech-node"))return;c.value=!0;const S=h.touches?h.touches[0]:h;f.value={x:S.clientX-i.value,y:S.clientY-a.value}},z=h=>{if(!c.value)return;const S=h.touches?h.touches[0]:h;i.value=S.clientX-f.value.x,a.value=S.clientY-f.value.y,p.value={x:i.value*.1,y:a.value*.1}},Y=()=>{c.value=!1},R=h=>{const S=h.deltaY>0?-.1:.1;r.value=Math.max(.3,Math.min(1.5,r.value+S))},y=()=>r.value=Math.min(1.5,r.value+.15),b=()=>r.value=Math.max(.3,r.value-.15),$=()=>{r.value=.7,i.value=0,a.value=50},_=h=>{u.value=h},m=()=>{u.value&&(n("buy",u.value.id),u.value=null)},D=h=>({1:"bg-slate-700",2:"bg-blue-700",3:"bg-purple-700",4:"bg-orange-700",5:"bg-pink-700",6:"bg-amber-600"})[h]||"bg-slate-700",I=h=>h>=1e9?(h/1e9).toFixed(2)+"B":h>=1e6?(h/1e6).toFixed(2)+"M":h>=1e3?(h/1e3).toFixed(1)+"K":Math.floor(h).toLocaleString();return tt(()=>{a.value=50}),(h,S)=>(C(),j("div",md,[l("div",bd,[ie(vi,{progress:X(s).totalEarnedPoints,parallaxOffset:p.value},null,8,["progress","parallaxOffset"])]),l("div",vd,[l("div",xd,[l("button",{onClick:S[0]||(S[0]=H=>h.$emit("navigate","main")),class:"w-12 h-12 rounded-2xl bg-white/15 flex items-center justify-center text-white active:bg-white/30 active:scale-95 transition-all text-lg"},"  "),S[5]||(S[5]=l("div",{class:"flex-1"},[l("h1",{class:"text-xl font-bold text-white"},""),l("p",{class:"text-xs text-white/60 mt-0.5"},"")],-1)),l("div",yd,[S[4]||(S[4]=l("span",{class:"text-xl"},"",-1)),ie(eo,{value:X(s).knowledgePoints,class:"text-xl font-bold text-yellow-300 tabular-nums"},null,8,["value"])])])]),l("div",{class:"tree-viewport",ref_key:"viewportRef",ref:o,onMousedown:B,onMousemove:z,onMouseup:Y,onMouseleave:Y,onTouchstartPassive:B,onTouchmovePassive:z,onTouchend:Y,onWheel:as(R,["prevent"])},[l("div",{class:"tree-world",style:ce(v.value)},[(C(),j("svg",_d,[S[6]||(S[6]=la('<defs data-v-cd6d992b><linearGradient id="gradient-unlocked" x1="0%" y1="0%" x2="0%" y2="100%" data-v-cd6d992b><stop offset="0%" stop-color="#06b6d4" stop-opacity="0.8" data-v-cd6d992b></stop><stop offset="50%" stop-color="#8b5cf6" stop-opacity="1" data-v-cd6d992b></stop><stop offset="100%" stop-color="#ec4899" stop-opacity="0.8" data-v-cd6d992b></stop></linearGradient><linearGradient id="gradient-locked" x1="0%" y1="0%" x2="0%" y2="100%" data-v-cd6d992b><stop offset="0%" stop-color="#374151" stop-opacity="0.3" data-v-cd6d992b></stop><stop offset="100%" stop-color="#1f2937" stop-opacity="0.5" data-v-cd6d992b></stop></linearGradient><filter id="glow-filter" x="-50%" y="-50%" width="200%" height="200%" data-v-cd6d992b><feGaussianBlur in="SourceGraphic" stdDeviation="4" result="blur" data-v-cd6d992b></feGaussianBlur><feMerge data-v-cd6d992b><feMergeNode in="blur" data-v-cd6d992b></feMergeNode><feMergeNode in="SourceGraphic" data-v-cd6d992b></feMergeNode></feMerge></filter></defs>',1)),(C(!0),j(re,null,ve(N.value,H=>(C(),j("g",{key:H.id},[l("line",{x1:H.x1+x.value.x,y1:H.y1+x.value.y,x2:H.x2+x.value.x,y2:H.y2+x.value.y,stroke:H.unlocked?"url(#gradient-unlocked)":"url(#gradient-locked)","stroke-width":"3",filter:H.unlocked?"url(#glow-filter)":"",class:oe({"animate-flow":H.unlocked})},null,10,wd)]))),128))])),(C(!0),j(re,null,ve(w.value,H=>(C(),be(gd,{key:H.id,node:H,style:ce(k(H)),onSelect:_,onBuy:ne=>h.$emit("buy",H.id)},null,8,["node","style","onBuy"]))),128))],4)],544),l("div",{class:"fixed bottom-32 right-4 flex flex-col gap-3 z-40"},[l("button",{onClick:y,class:"zoom-btn"},"+"),l("button",{onClick:b,class:"zoom-btn"},""),l("button",{onClick:$,class:"zoom-btn text-base"},"")]),ie(Zn,{name:"slide-up"},{default:Te(()=>[u.value?(C(),j("div",kd,[l("div",$d,[l("div",{class:oe(["w-18 h-18 rounded-2xl flex items-center justify-center text-5xl",D(u.value.tier)]),style:{"min-width":"72px","min-height":"72px"}},M(u.value.icon),3),l("div",Sd,[l("h3",Cd,M(u.value.state==="unlocked"||u.value.state==="revealed"?u.value.name:"???"),1),l("p",Td,M(u.value.state==="unlocked"?u.value.description:""),1),l("div",Md,[l("span",jd," "+M(I(u.value.currentCost))+" KP",1),l("span",Id," +"+M(u.value.production.toFixed(1))+"/",1),l("span",Ad,"Lv."+M(u.value.level),1)])]),l("button",{onClick:S[1]||(S[1]=H=>u.value=null),class:"w-10 h-10 flex items-center justify-center text-white/60 active:text-white bg-white/10 rounded-full"},"")]),u.value.state==="unlocked"?(C(),j("button",{key:0,onClick:m,disabled:!u.value.canAfford,class:oe(["w-full mt-5 py-4 rounded-2xl font-bold text-lg transition-all active:scale-95",u.value.canAfford?"bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500 text-white shadow-lg":"bg-white/10 text-white/40"])},M(u.value.level===0?" ":" "),11,Ed)):(C(),j("div",Pd,[Bs("  "+M(I(u.value.unlockCondition))+" KP  ",1),l("div",Dd,[l("div",{class:"h-full bg-gradient-to-r from-amber-400 to-yellow-300",style:ce({width:u.value.progressToUnlock+"%"})},null,4)])]))])):de("",!0)]),_:1}),l("div",Od,[l("div",Fd,[l("button",{onClick:S[2]||(S[2]=H=>h.$emit("navigate","main")),class:"flex-1 py-4 bg-white/15 backdrop-blur-xl rounded-2xl text-white font-bold flex items-center justify-center gap-2 border border-white/20 active:bg-white/30 active:scale-95 transition-all text-base"},[...S[7]||(S[7]=[l("span",{class:"text-xl"},"",-1),l("span",null,"",-1)])]),l("button",{onClick:S[3]||(S[3]=H=>h.$emit("navigate","list")),class:"flex-1 py-4 bg-white/15 backdrop-blur-xl rounded-2xl text-white font-bold flex items-center justify-center gap-2 border border-white/20 active:bg-white/30 active:scale-95 transition-all text-base"},[...S[8]||(S[8]=[l("span",{class:"text-xl"},"",-1),l("span",null,"",-1)])])])])]))}},Nd=Ye(Ld,[["__scopeId","data-v-cd6d992b"]]),Rd={class:"game-container"},Bd={__name:"GameView",setup(e){const t=Wt(),s=V("main"),n=r=>{s.value=r},o=r=>{t.buyFacility(r)};return tt(async()=>{await t.initialize()}),(r,i)=>(C(),j("div",Rd,[ie(Zn,{name:"fade-slide",mode:"out-in"},{default:Te(()=>[s.value==="main"?(C(),be(Nu,{key:"main",onNavigate:n})):s.value==="list"?(C(),be(cd,{key:"list",onNavigate:n})):s.value==="tree"?(C(),be(Nd,{key:"tree",onNavigate:n,onBuy:o})):de("",!0)]),_:1})]))}},Hd=Ye(Bd,[["__scopeId","data-v-02e2e187"]]),Ud={class:"flex items-center gap-6"},Vd={class:"relative w-32 h-32 flex-shrink-0"},Kd={class:"absolute inset-4 bg-white rounded-full flex items-center justify-center shadow-inner"},Wd={class:"text-xs font-bold text-gray-500"},zd={class:"flex-1 space-y-2"},Yd={class:"flex items-center gap-2"},Xd={class:"text-gray-700 font-medium"},Gd={class:"text-right"},qd={class:"font-bold text-gray-800"},Jd={class:"text-xs text-gray-400 ml-1"},Zd={__name:"SubjectChart",props:{data:{type:Array,required:!0}},setup(e){const t=e,s=W(()=>[...t.data].sort((r,i)=>i.minutes-r.minutes)),n=W(()=>t.data.reduce((r,i)=>r+i.minutes,0)),o=W(()=>{if(t.data.length===0)return"#e5e7eb";let r=0;return`conic-gradient(${s.value.map(a=>{const c=r,f=r+a.percent;return r=f,`${a.color} ${c}% ${f}%`}).join(", ")})`});return(r,i)=>(C(),j("div",Ud,[l("div",Vd,[l("div",{class:"w-full h-full rounded-full",style:ce({background:o.value})},null,4),l("div",Kd,[l("span",Wd,[i[0]||(i[0]=Bs("TOTAL",-1)),i[1]||(i[1]=l("br",null,null,-1)),Bs(M(n.value)+"",1)])])]),l("div",zd,[(C(!0),j(re,null,ve(s.value,(a,c)=>(C(),j("div",{key:c,class:"flex items-center justify-between text-sm"},[l("div",Yd,[l("div",{class:"w-3 h-3 rounded-full",style:ce({backgroundColor:a.color})},null,4),l("span",Xd,M(a.subject),1)]),l("div",Gd,[l("span",qd,M(a.minutes)+"",1),l("span",Jd,"("+M(Math.round(a.percent))+"%)",1)])]))),128))])]))}},Qd={class:"space-y-4 mt-8 pb-8"},e0={class:"flex justify-between items-center"},t0={class:"flex gap-2 bg-black/20 p-1 rounded-xl"},s0=["onClick"],n0={key:0},o0={class:"flex justify-between items-center mb-4"},r0={class:"font-bold text-gray-700"},i0=["disabled"],l0={class:"h-48 flex items-end gap-2 pt-6"},a0={class:"w-full relative"},c0={key:0,class:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs font-bold text-indigo-600 whitespace-nowrap"},u0={class:"mt-4 pt-4 border-t border-gray-200 flex justify-around text-center"},f0={class:"text-2xl font-bold text-indigo-600"},d0={class:"text-2xl font-bold text-green-600"},p0={key:1},h0={class:"flex justify-between items-center mb-4"},g0={class:"font-bold text-gray-700"},m0=["disabled"],b0={class:"h-52 flex items-end gap-3 pt-6"},v0={class:"w-full relative flex flex-col-reverse"},x0={key:0,class:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs font-bold text-gray-700 whitespace-nowrap"},y0={class:"text-xs mt-2 text-gray-500"},_0={class:"mt-4 pt-4 border-t border-gray-200"},w0={class:"flex flex-wrap gap-3 justify-center"},k0={class:"text-xs text-gray-600"},$0={class:"text-center mt-3"},S0={class:"text-2xl font-bold text-indigo-600"},C0={class:"text-xs text-gray-500"},T0={key:0,class:"text-center text-gray-500 py-4"},M0={class:"space-y-2 max-h-64 overflow-y-auto"},j0={class:"flex items-center gap-3"},I0={class:"font-medium text-gray-800"},A0={class:"text-xs text-gray-500"},E0={class:"font-bold text-indigo-600"},P0={__name:"DataView",emits:["admin"],setup(e,{emit:t}){const s=kt(),n=t,o=[{key:"weekly",label:"",icon:""},{key:"monthly",label:"",icon:""}],r=V("weekly"),i=V([]),a=V([]),c=V([]),f=V(0),u=V(0),p={:"#FF6B6B",:"#4D96FF",:"#FFD93D",:"#6BCB77",:"#9D4EDD",:"#95A5A6",:"#7C3AED"},x=W(()=>Object.entries(p).map(([I,h])=>({name:I,color:h}))),v=I=>p[I]||p.,w=W(()=>{if(f.value===0)return"";if(f.value===1)return"";const I=new Date,h=new Date(I),S=I.getDay()||7;h.setDate(I.getDate()-S+1-f.value*7);const H=new Date(h);return H.setDate(h.getDate()+6),`${h.getMonth()+1}/${h.getDate()} - ${H.getMonth()+1}/${H.getDate()}`}),k=W(()=>{const I=new Date,h=["","","","","","",""],S=[],H=new Date(I),ne=I.getDay()||7;H.setDate(I.getDate()-ne+1-f.value*7);for(let ee=0;ee<7;ee++){const J=new Date(H);J.setDate(H.getDate()+ee);const q=J.toISOString().split("T")[0],_e=i.value.filter(we=>we.date===q).reduce((we,$e)=>we+($e.minutes||0),0),Re=J.toDateString()===I.toDateString();S.push({day:h[ee],date:q,minutes:_e,isToday:Re})}return S}),N=W(()=>k.value.reduce((I,h)=>I+h.minutes,0)),B=W(()=>Math.round(N.value/7)),z=W(()=>{const I=new Date,h=new Date(I.getFullYear(),I.getMonth()-u.value,1);return`${h.getFullYear()}${h.getMonth()+1}`}),Y=W(()=>{const I=new Date,h=I.getMonth()-u.value,S=I.getFullYear()+Math.floor(h/12),H=(h%12+12)%12,ne=new Date(S,H,1),ee=new Date(S,H+1,0),J=[];let q=new Date(ne);const _e=q.getDay()||7;_e!==1&&q.setDate(q.getDate()-_e+1);let Re=1;for(;q<=ee||J.length<4;){const we=new Date(q);we.setDate(q.getDate()+6);const $e={};for(let Ue=new Date(q);Ue<=we;Ue.setDate(Ue.getDate()+1)){const Ve=Ue.toISOString().split("T")[0];i.value.filter(ht=>ht.date===Ve).forEach(ht=>{const Yt=ht.subject||"";$e[Yt]=($e[Yt]||0)+(ht.minutes||0)})}const Dt=Object.entries($e).map(([Ue,Ve])=>({subject:Ue,minutes:Ve,color:v(Ue)})),on=Dt.reduce((Ue,Ve)=>Ue+Ve.minutes,0);if(J.push({label:`W${Re}`,start:new Date(q),end:new Date(we),segments:Dt.length>0?Dt:[{subject:"",minutes:0,color:"#E5E7EB"}],total:on}),q=new Date(q),q.setDate(q.getDate()+7),Re++,J.length>=5)break}return J}),R=W(()=>Y.value.reduce((I,h)=>I+h.total,0)),y=W(()=>Math.max(...k.value.map(I=>I.minutes),60)),b=I=>Math.max(4,I/y.value*120),$=I=>I===0?"bg-gray-200":I>=60?"bg-gradient-to-t from-indigo-600 to-purple-500":I>=30?"bg-gradient-to-t from-indigo-500 to-indigo-400":"bg-gradient-to-t from-indigo-400 to-indigo-300",_=W(()=>Math.max(...Y.value.map(I=>I.total),60)),m=(I,h)=>{if(h===0)return 4;const H=h/_.value*140;return Math.max(0,I/h*H)},D=async()=>{if(s.currentUserId)try{const h=await(await fetch(`/api/user/${s.currentUserId}/stats`)).json();h.weekly&&(i.value=h.weekly.map(S=>({date:S.date,minutes:S.minutes,day:S.day,subject:S.subject||""}))),a.value=h.subject||[],c.value=h.recent||[]}catch(I){console.error("Failed to fetch stats:",I)}};return tt(()=>{D()}),(I,h)=>(C(),j("div",Qd,[l("div",e0,[h[5]||(h[5]=l("h2",{class:"text-xl font-bold text-white"}," ",-1)),X(s).isAdmin?(C(),j("button",{key:0,onClick:h[0]||(h[0]=S=>n("admin")),class:"text-white/70 hover:text-white text-sm underline"},"  ")):de("",!0)]),l("div",t0,[(C(),j(re,null,ve(o,S=>l("button",{key:S.key,onClick:H=>r.value=S.key,class:oe(["flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all",r.value===S.key?"bg-white text-indigo-600 shadow-sm":"text-white/70 hover:text-white"])},M(S.icon)+" "+M(S.label),11,s0)),64))]),r.value==="weekly"?(C(),j("div",n0,[ie(He,null,{default:Te(()=>[l("div",o0,[l("button",{onClick:h[1]||(h[1]=S=>f.value++),class:"p-2 rounded-lg bg-indigo-100 text-indigo-600 hover:bg-indigo-200 active:scale-95 transition-all"},[...h[6]||(h[6]=[l("span",{class:"text-lg"},"",-1)])]),l("h3",r0,M(w.value),1),l("button",{onClick:h[2]||(h[2]=S=>f.value=Math.max(0,f.value-1)),disabled:f.value===0,class:oe(["p-2 rounded-lg transition-all",f.value===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-indigo-100 text-indigo-600 hover:bg-indigo-200 active:scale-95"])},[...h[7]||(h[7]=[l("span",{class:"text-lg"},"",-1)])],10,i0)]),l("div",l0,[(C(!0),j(re,null,ve(k.value,(S,H)=>(C(),j("div",{key:H,class:"flex-1 flex flex-col items-center min-w-0"},[l("div",a0,[l("div",{class:oe(["w-full rounded-t-lg transition-all duration-500 ease-out",$(S.minutes)]),style:ce({height:b(S.minutes)+"px",minHeight:S.minutes>0?"8px":"4px"})},[S.minutes>0?(C(),j("span",c0,M(S.minutes)+" ",1)):de("",!0)],6)]),l("p",{class:oe(["text-xs mt-2 font-medium",S.isToday?"text-indigo-600":"text-gray-500"])},M(S.day),3)]))),128))]),l("div",u0,[l("div",null,[l("p",f0,M(N.value)+"",1),h[8]||(h[8]=l("p",{class:"text-xs text-gray-500"},"",-1))]),l("div",null,[l("p",d0,M(B.value)+"",1),h[9]||(h[9]=l("p",{class:"text-xs text-gray-500"},"/",-1))])])]),_:1})])):de("",!0),r.value==="monthly"?(C(),j("div",p0,[ie(He,null,{default:Te(()=>[l("div",h0,[l("button",{onClick:h[3]||(h[3]=S=>u.value++),class:"p-2 rounded-lg bg-indigo-100 text-indigo-600 hover:bg-indigo-200 active:scale-95 transition-all"},[...h[10]||(h[10]=[l("span",{class:"text-lg"},"",-1)])]),l("h3",g0,M(z.value),1),l("button",{onClick:h[4]||(h[4]=S=>u.value=Math.max(0,u.value-1)),disabled:u.value===0,class:oe(["p-2 rounded-lg transition-all",u.value===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-indigo-100 text-indigo-600 hover:bg-indigo-200 active:scale-95"])},[...h[11]||(h[11]=[l("span",{class:"text-lg"},"",-1)])],10,m0)]),l("div",b0,[(C(!0),j(re,null,ve(Y.value,(S,H)=>(C(),j("div",{key:H,class:"flex-1 flex flex-col items-center"},[l("div",v0,[(C(!0),j(re,null,ve(S.segments,(ne,ee)=>(C(),j("div",{key:ee,class:"w-full first:rounded-t-lg transition-all duration-500",style:ce({height:m(ne.minutes,S.total)+"px",backgroundColor:ne.color,minHeight:ne.minutes>0?"4px":"0"})},null,4))),128)),S.total>0?(C(),j("span",x0,M(Math.round(S.total/60*10)/10)+"h ",1)):de("",!0)]),l("p",y0,M(S.label),1)]))),128))]),l("div",_0,[l("div",w0,[(C(!0),j(re,null,ve(x.value,(S,H)=>(C(),j("div",{key:H,class:"flex items-center gap-1.5"},[l("div",{class:"w-3 h-3 rounded-full",style:ce({backgroundColor:S.color})},null,4),l("span",k0,M(S.name),1)]))),128))]),l("div",$0,[l("p",S0,M(R.value)+"",1),l("p",C0," ("+M(Math.round(R.value/60*10)/10)+")",1)])])]),_:1})])):de("",!0),ie(He,null,{default:Te(()=>[h[12]||(h[12]=l("h3",{class:"font-bold text-gray-700 mb-4"}," ",-1)),ie(Zd,{data:a.value},null,8,["data"])]),_:1}),ie(He,null,{default:Te(()=>[h[13]||(h[13]=l("h3",{class:"font-bold text-gray-700 mb-4"}," ",-1)),c.value.length===0?(C(),j("div",T0,"  ")):de("",!0),l("div",M0,[(C(!0),j(re,null,ve(c.value,(S,H)=>(C(),j("div",{key:H,class:"flex justify-between items-center py-2 border-b last:border-0 border-gray-100"},[l("div",j0,[l("div",{class:"w-2 h-8 rounded-full",style:ce({backgroundColor:v(S.subject)})},null,4),l("div",null,[l("p",I0,M(S.subject),1),l("p",A0,M(S.date),1)])]),l("span",E0,M(S.minutes)+"",1)]))),128))])]),_:1})]))}},D0={class:"space-y-4 mt-8"},O0={class:"flex justify-between items-center"},F0={key:0,class:"text-center py-8"},L0={key:0,class:"text-gray-500 text-center py-4"},N0={key:1},R0={class:"flex gap-2 mb-4 overflow-x-auto pb-2"},B0=["onClick"],H0={class:"space-y-2 max-h-96 overflow-y-auto"},U0={class:"flex justify-between items-start mb-2"},V0={class:"flex items-center gap-2"},K0={class:"text-lg"},W0={class:"text-xs text-gray-400"},z0={class:"mb-3"},Y0={class:"font-medium text-gray-800"},X0={class:"text-sm text-gray-500"},G0={key:0,class:"text-xs text-gray-400 mt-1"},q0={key:1,class:"text-sm text-yellow-600 mt-1"},J0={class:"flex gap-2 justify-end"},Z0=["onClick","disabled"],Q0=["onClick","disabled"],ep={__name:"AdminView",emits:["exit"],setup(e,{emit:t}){const s=t,n=V(!0),o=V(!1),r=V([]),i=V("all"),a=V(""),c=V("success"),f=[{key:"all",label:"",icon:""},{key:"study",label:"",icon:""},{key:"job",label:"",icon:""},{key:"shop",label:"",icon:""},{key:"mission",label:"",icon:""}],u=W(()=>i.value==="all"?r.value:r.value.filter(y=>y.type===i.value)),p=y=>y==="all"?r.value.length:r.value.filter(b=>b.type===y).length,x=y=>({study:"",job:"",shop:"",mission:""})[y]||"",v=y=>({study:"",job:"",shop:"",mission:""})[y]||y,w=y=>({study:"bg-blue-100 text-blue-700",job:"bg-orange-100 text-orange-700",shop:"bg-purple-100 text-purple-700",mission:"bg-green-100 text-green-700"})[y]||"bg-gray-100 text-gray-700",k=y=>{if(!y)return"";try{return new Date(y).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return y}},N=(y,b="success")=>{a.value=y,c.value=b,setTimeout(()=>{a.value=""},3e3)},B=async()=>{n.value=!0;try{const b=await(await fetch("/api/admin/pending")).json();b.status==="ok"&&b.data?r.value=b.data.map($=>z($)):r.value=[]}catch(y){console.error("Fetch pending error:",y),N("","error")}finally{n.value=!1}},z=y=>{const b=y.data||y,$=y.type||"unknown";let _,m,D,I,h,S,H;switch($){case"study":_=`study_${b.row_index}`,m=`${b.subject||""} - ${b.minutes||0}`,D=b.user_id,I=b.user_name||b.user_id,h=b.date,S=b.comment||"",H=b.minutes||0;break;case"job":_=b.job_id,m=b.title||"",D=b.worker_id,I=b.worker_name||b.worker_id,h=b.finished_at||b.created_at,S=b.comment||b.description||"",H=b.reward||0;break;case"shop":_=b.request_id,m=b.item_name||b.item_key||"",D=b.user_id,I=b.user_name||b.user_id,h=b.created_at,S="",H=b.cost||0;break;case"mission":_=b.mission_id,m=b.title||"",D=b.user_id,I=b.user_name||b.user_id,h=b.created_at,S=b.description||"",H=b.reward||0;break;default:_=`unknown_${Date.now()}`,m="",D="",I="",h="",S="",H=0}return{id:_,type:$,title:m,userId:D,userName:I,date:h,detail:S,reward:H,rawData:b}},Y=async y=>{if(!o.value){o.value=!0;try{let b,$;switch(y.type){case"study":b="/api/admin/approve/study",$={row_index:y.rawData.row_index,user_id:y.userId,minutes:y.reward};break;case"job":b="/api/admin/approve/job",$={job_id:y.rawData.job_id};break;case"shop":b="/api/admin/approve/shop",$={request_id:y.rawData.request_id};break;case"mission":b="/api/admin/approve/mission",$={mission_id:y.rawData.mission_id};break;default:throw new Error("Unknown type")}const m=await(await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json();m.status==="ok"?(N(`${y.title} `,"success"),r.value=r.value.filter(D=>D.id!==y.id)):N(m.message||"","error")}catch(b){console.error("Approve error:",b),N("","error")}finally{o.value=!1}}},R=async y=>{if(!o.value){o.value=!0;try{let b,$;switch(y.type){case"study":b="/api/admin/reject/study",$={row_index:y.rawData.row_index,user_id:y.userId};break;case"job":b="/api/admin/reject/job",$={job_id:y.rawData.job_id};break;case"shop":b="/api/admin/reject/shop",$={request_id:y.rawData.request_id,user_id:y.userId,cost:y.reward};break;case"mission":b="/api/admin/reject/mission",$={mission_id:y.rawData.mission_id};break;default:throw new Error("Unknown type")}const m=await(await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json();m.status==="ok"?(N(`${y.title} `,"success"),r.value=r.value.filter(D=>D.id!==y.id)):N(m.message||"","error")}catch(b){console.error("Reject error:",b),N("","error")}finally{o.value=!1}}};return tt(()=>{B()}),(y,b)=>(C(),j("div",D0,[l("div",O0,[b[1]||(b[1]=l("h2",{class:"text-xl font-bold text-white"}," ",-1)),l("button",{onClick:b[0]||(b[0]=$=>s("exit")),class:"text-white/70 hover:text-white"},"   ")]),n.value?(C(),j("div",F0,[...b[2]||(b[2]=[l("div",{class:"animate-spin text-4xl"},"",-1),l("p",{class:"text-white/70 mt-2"},"...",-1)])])):(C(),be(He,{key:1},{default:Te(()=>[l("div",{class:"flex justify-between items-center mb-4"},[b[3]||(b[3]=l("h3",{class:"font-bold text-gray-700"}," ",-1)),l("button",{onClick:B,class:"text-blue-500 text-sm hover:text-blue-700"},"   ")]),r.value.length===0?(C(),j("div",L0,"  ")):(C(),j("div",N0,[l("div",R0,[(C(),j(re,null,ve(f,$=>l("button",{key:$.key,onClick:_=>i.value=$.key,class:oe(["px-3 py-1 rounded-full text-sm whitespace-nowrap transition-all",i.value===$.key?"bg-blue-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"])},M($.icon)+" "+M($.label)+" ("+M(p($.key))+") ",11,B0)),64))]),l("div",H0,[(C(!0),j(re,null,ve(u.value,$=>(C(),j("div",{key:$.id,class:"p-3 bg-gray-50 rounded-lg border border-gray-200"},[l("div",U0,[l("div",V0,[l("span",K0,M(x($.type)),1),l("span",{class:oe(["text-xs px-2 py-0.5 rounded-full",w($.type)])},M(v($.type)),3)]),l("span",W0,M(k($.date)),1)]),l("div",z0,[l("p",Y0,M($.title),1),l("p",X0," "+M($.userName||$.userId),1),$.detail?(C(),j("p",G0,M($.detail),1)):de("",!0),$.reward?(C(),j("p",q0,"  : "+M($.reward)+" XP ",1)):de("",!0)]),l("div",J0,[l("button",{onClick:_=>Y($),disabled:o.value,class:"bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white px-4 py-1.5 rounded text-sm font-medium transition-colors"},"   ",8,Z0),l("button",{onClick:_=>R($),disabled:o.value,class:"bg-red-500 hover:bg-red-600 disabled:bg-gray-300 text-white px-4 py-1.5 rounded text-sm font-medium transition-colors"},"   ",8,Q0)])]))),128))])]))]),_:1})),a.value?(C(),j("div",{key:2,class:oe(["fixed bottom-4 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg transition-opacity",c.value==="success"?"bg-green-500 text-white":"bg-red-500 text-white"])},M(a.value),3)):de("",!0)]))}},tp={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center px-6"},sp={class:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-fadeInUp"},np={class:"p-6 text-center"},op={class:"text-4xl mb-2"},rp={class:"text-xl font-bold text-gray-800"},ip={class:"text-amber-600 font-bold text-lg mt-2"},lp={class:"px-6 pb-4"},ap={class:"p-4 border-t flex gap-3"},cp={__name:"BuyModal",props:{item:{type:Object,default:null}},emits:["confirm","cancel"],setup(e,{emit:t}){const s=t,n=V(""),o=()=>{s("confirm",n.value),n.value=""};return(r,i)=>{var a,c,f;return C(),be(Js,{to:"body"},[l("div",tp,[l("div",sp,[i[3]||(i[3]=l("div",{class:"bg-gradient-to-r from-amber-500 to-orange-500 p-4"},[l("h3",{class:"text-white font-bold text-lg text-center"}," ")],-1)),l("div",np,[l("p",op,M((a=e.item)==null?void 0:a.icon),1),l("h4",rp,M((c=e.item)==null?void 0:c.name),1),l("p",ip,M((f=e.item)==null?void 0:f.cost)+" XP ",1)]),l("div",lp,[i[2]||(i[2]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"   () ",-1)),Ir(l("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>n.value=u),type:"text",class:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"..."},null,512),[[pi,n.value]])]),l("div",ap,[l("button",{onClick:i[1]||(i[1]=u=>s("cancel")),class:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-xl font-medium"},"  "),l("button",{onClick:o,class:"flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-bold"},"  ")])])])])}}},up={class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center px-6"},fp={class:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-fadeInUp max-h-[80vh] flex flex-col"},dp={class:"p-4 overflow-y-auto flex-1"},pp={key:0,class:"text-center py-8"},hp={key:1,class:"text-center text-gray-500 py-8"},gp={key:2,class:"space-y-3"},mp=["onClick"],bp={class:"text-3xl"},vp={class:"flex-1"},xp={class:"font-bold text-gray-800"},yp={class:"text-xs text-gray-500"},_p={class:"text-amber-600 font-bold whitespace-nowrap"},wp={class:"p-4 border-t shrink-0"},kp={__name:"ShopListModal",emits:["close"],setup(e,{emit:t}){const s=Qn(),n=t;return(o,r)=>(C(),be(Js,{to:"body"},[l("div",up,[l("div",fp,[r[2]||(r[2]=l("div",{class:"bg-gradient-to-r from-amber-500 to-orange-500 p-4 shrink-0"},[l("h3",{class:"text-white font-bold text-lg text-center"}," ")],-1)),l("div",dp,[X(s).loading?(C(),j("div",pp,[...r[1]||(r[1]=[l("div",{class:"animate-spin rounded-full h-8 w-8 border-4 border-amber-300 border-t-amber-600 mx-auto"},null,-1),l("p",{class:"mt-2 text-gray-500"},"...",-1)])])):X(s).shopItems.length===0?(C(),j("div",hp,"  ")):(C(),j("div",gp,[(C(!0),j(re,null,ve(X(s).shopItems,i=>(C(),j("button",{key:i.key,onClick:a=>X(s).openBuyModal(i),class:"w-full bg-white border border-gray-200 rounded-xl p-3 flex items-center gap-4 transition-all hover:shadow-md active:scale-95 text-left"},[l("span",bp,M(i.icon),1),l("div",vp,[l("p",xp,M(i.name),1),l("p",yp,M(i.description),1)]),l("div",_p,M(i.cost)+" XP ",1)],8,mp))),128))]))]),l("div",wp,[l("button",{onClick:r[0]||(r[0]=i=>n("close")),class:"w-full py-3 bg-gray-100 text-gray-600 rounded-xl font-medium transition-colors hover:bg-gray-200"},"  ")])])])]))}},$p={class:"min-h-screen pb-20 max-w-md mx-auto relative overflow-hidden bg-slate-50"},Sp={class:"relative z-10 px-6 pt-8"},Cp={__name:"App",setup(e){const t=kt(),s=_s(),n=oc(),o=Qn(),r=Wt(),{initLiff:i}=ic(),{playSound:a}=Kt(),c=V("study");tt(async()=>{a("poweron"),await i(),n.startBattleLoop(),r.initialize()});const f=()=>{s.inSession?c.value="timer":s.openSubjectModal()},u=async v=>{await s.startStudy(v),c.value="timer"},p=async()=>{const v=await s.finishStudy();v>0&&(n.applyStudyDamage(v),r.earnFromStudy(v)>0&&await r.syncToServer()),c.value="study"},x=async v=>{await o.confirmBuy(v)};return(v,w)=>(C(),j("div",$p,[w[9]||(w[9]=l("div",{class:"absolute top-0 left-0 w-full h-48 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-b-[40px] z-0"},null,-1)),l("div",Sp,[X(t).loading?(C(),be(uc,{key:0})):(C(),j(re,{key:1},[c.value==="timer"?(C(),be(Hc,{key:0,onBack:w[0]||(w[0]=k=>c.value="study")})):c.value==="game"?(C(),be(Hd,{key:1})):c.value==="admin"?(C(),be(ep,{key:2,onExit:w[1]||(w[1]=k=>c.value="study")})):c.value==="data"?(C(),be(P0,{key:3,onAdmin:w[2]||(w[2]=k=>c.value="admin")})):(C(),be(Fc,{key:4,onTimer:w[3]||(w[3]=k=>c.value="timer")}))],64))]),X(s).showSubjectModal?(C(),be(Gc,{key:0,onClose:w[4]||(w[4]=k=>X(s).showSubjectModal=!1),onStart:u})):de("",!0),X(s).showMemoConfirm?(C(),be(tu,{key:1,memo:X(s).memoToSend,onConfirm:p,onCancel:w[5]||(w[5]=k=>X(s).showMemoConfirm=!1)},null,8,["memo"])):de("",!0),X(o).showBuyModal?(C(),be(cp,{key:2,item:X(o).selectedItem,onConfirm:x,onCancel:w[6]||(w[6]=k=>X(o).showBuyModal=!1)},null,8,["item"])):de("",!0),X(o).showShopList?(C(),be(kp,{key:3,onClose:w[7]||(w[7]=k=>X(o).showShopList=!1)})):de("",!0),ie(mc,{modelValue:c.value,"onUpdate:modelValue":w[8]||(w[8]=k=>c.value=k),"in-session":X(s).inSession},null,8,["modelValue","in-session"]),c.value==="study"?(C(),be(bc,{key:4,"in-session":X(s).inSession,onClick:f},null,8,["in-session"])):de("",!0)]))}},xi=Xa(Cp),Tp=Ja();xi.use(Tp);xi.mount("#app");
